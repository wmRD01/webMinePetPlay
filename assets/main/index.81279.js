window.__require=function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)o(i[a]);return o}({ActionTransition:[function(t,e,n){"use strict";cc._RF.push(e,"5f6d7lF8+5Pla+j4wECkTyZ","ActionTransition"),Object.defineProperty(n,"__esModule",{value:!0}),n.ActionTransition=void 0;var i=function(){function t(){}return t.pageFadeIn=function(t,e,n){void 0===e&&(e=!0),t.zIndex=9,t.active=!0,e&&(t.opacity=0,t.setScale(1.2),t.active=!0,t.stopAllActions(),t.runAction(cc.sequence(cc.delayTime(.16),cc.spawn(cc.scaleTo(.3,1).easing(cc.easeBackInOut()),cc.fadeIn(.1)),cc.callFunc(function(){n&&n()}))))},t.pageFadeOut=function(t,e,n){if(void 0===e&&(e=!0),e)return t.zIndex=1,t.stopAllActions(),void t.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1,n&&n()})));t.active=!1},t.btnBounce=function(t,e){t.runAction(cc.sequence(cc.scaleTo(.13,1.1),cc.scaleTo(.1,1),cc.callFunc(function(){e&&e()})))},t.btnRemind=function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).set({y:0}).repeatForever(cc.tween().by(.1,{y:10}).by(.05,{y:-15},{easing:function(t){return cc.easeBounceOut().easing(t)}}).by(.05,{y:8}).by(.05,{y:-5}).by(.05,{y:2}).delay(.8)).start()},t}();n.ActionTransition=i,cc._RF.pop()},{}],"All@":[function(t,e,n){"use strict";cc._RF.push(e,"cf98c8Qt55G9Y7u4IzwBWVF","All@"),Object.defineProperty(n,"__esModule",{value:!0}),n.myError=void 0,n.myError=function(){return function(t,e,n){var i=n.value;n.value=function(t){i(t)}}},cc._RF.pop()},{}],AssetsMng:[function(t,e,n){"use strict";cc._RF.push(e,"0935a8N6rJPWKXmhvgo3hu/","AssetsMng"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../data/Assets"),o=t("../manager/EventMng"),r=t("../data/const/EventConst"),a=function(){function t(){}return t.prototype.init=function(){},t.prototype.onPreLoad=function(){this.onGamePrefabLoad()},t.prototype.onPreLoadDone=function(){o.default.emit(r.LoadEvent.LOAD_PRELOAD_DONE)},t.prototype.onGameSpineLoad=function(){var t=this,e=i.default.getGameSpineUrls();cc.loader.loadResArray(e,sp.SkeletonData,function(e,n){t.onGameSpineDone(e,n)})},t.prototype.onGameSpineDone=function(t,e){t?console.log(t):(this.setAssets(e,".spine"),this.onPreLoadDone())},t.prototype.onGameAssetsLoad=function(){var t=this,e=i.default.getGameAssetsUrls();cc.loader.loadResArray(e,cc.SpriteAtlas,function(e,n){t.onGameAssetsDone(e,n)})},t.prototype.onGameAssetsDone=function(t,e){t?console.log(t):(this.setAssets(e),this.onGameSpineLoad())},t.prototype.onGamePrefabLoad=function(){var t=this,e=i.default.getGameAssetsPrefabUrls();cc.loader.loadResArray(e,function(e,n){t.onGamePrefabLoadDone(e,n)})},t.prototype.onGamePrefabLoadDone=function(t,e){t?console.log(t):(this.setAssets(e),this.onGameSpriteLoad())},t.prototype.onGameSpriteLoad=function(){var t=this,e=i.default.getGameSpriteUrls();cc.loader.loadResArray(e,cc.SpriteFrame,function(e,n){t.onGameSpriteLoadDone(e,n)})},t.prototype.onGameSpriteLoadDone=function(t,e){t?console.log(t):(this.setAssets(e),this.onGameAssetsLoad())},t.prototype.setAssets=function(t,e){for(var n=0;n<t.length;n++){var o=t[n]._name;e&&(o+=e),i.default[o]=t[n]}},t.prototype.getAssets=function(t){if(i.default[t])return i.default[t]},t.prototype.getHeadPhotoImg=function(t){var e=this.getAssets("head_photo.plist");if(e){var n=t<10?"0"+t:t;return e.getSpriteFrame("head_"+n)}},t}();n.default=new a,cc._RF.pop()},{"../data/Assets":"Assets","../data/const/EventConst":"EventConst","../manager/EventMng":"EventMng"}],Assets:[function(t,e,n){"use strict";cc._RF.push(e,"340e97coRhIRIju4Wj756U6","Assets"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.langAssetUrl="images/txt/",this.gameAssetUrl="images/",this.prefabAssetUrl="prefab/",this.spineAssetUrl="spine/",this._gameAssetsName=["pet/pet_1","pet/pet_2","game/decoration","game/skin","game/skin_gray"],this._gameAssetsPrefabName=["cube_item","coin_gold_prefab","coin_sliver_prefab"],this._gameAssetsSpineName=["select/select","map/map_gpg1","mine/pet1","mine/pet_101","mine/pet_102","mine/pet_103","partner/mining1","coin/coin"],this._gameAssetsSpriteName=["game/btn_music_on","game/btn_music_off"]}return t.prototype.getGameAssetsPrefabUrls=function(){for(var t=[],e=0;e<this._gameAssetsPrefabName.length;e++)t.push(this.prefabAssetUrl+this._gameAssetsPrefabName[e]);return t},t.prototype.getPrefabAssetUrl=function(){return this.prefabAssetUrl},t.prototype.getGameAssetsUrls=function(){for(var t=[],e=0;e<this._gameAssetsName.length;e++)t.push(this.getGameAssetUrl()+this._gameAssetsName[e]);return t},t.prototype.getGameAssetUrl=function(){return this.gameAssetUrl},t.prototype.getGameSpineUrls=function(){for(var t=[],e=0;e<this._gameAssetsSpineName.length;e++)t.push(this.getGameSpineUrl()+this._gameAssetsSpineName[e]);return t},t.prototype.getGameSpineUrl=function(){return this.spineAssetUrl},t.prototype.getGameSpriteUrls=function(){for(var t=[],e=0;e<this._gameAssetsSpriteName.length;e++)t.push(this.getGameAssetUrl()+this._gameAssetsSpriteName[e]);return t},t}();n.default=new i,cc._RF.pop()},{}],ButtonMng:[function(t,e,n){"use strict";cc._RF.push(e,"ae9c0HHqSROOpAv9I39/1H+","ButtonMng"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.addEvent=function(t,e,n,i,o){this.findEvent(i,n)&&this.reMoveEvent(i,n);var r=new cc.Component.EventHandler;r.target=t,r.component=e,r.handler=n,o&&(r.customEventData=o),i.clickEvents.push(r)},t.prototype.findEvent=function(t,e){for(var n=t.clickEvents,i=0;i<n.length;i++)if(n[i].handler==e)return!0;return!1},t.prototype.reMoveEvent=function(t,e){for(var n=t.clickEvents,i=0;i<n.length;i++)if(n[i].handler==e)return n.splice(i)},t}();n.default=new i,cc._RF.pop()},{}],1:[function(t,e,n){(function(t){"use strict";var i={};t.PubSub?(i=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=i,function(t){var e={},n=-1,i="*";function o(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function r(t){return function(){throw t}}function a(t,e,n){try{t(e,n)}catch(i){setTimeout(r(i),0)}}function s(t,e,n){t(e,n)}function c(t,n,i,o){var r,c=e[n],u=o?s:a;if(Object.prototype.hasOwnProperty.call(e,n))for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&u(c[r],t,i)}function u(t,e,n){return function(){var o=String(t),r=o.lastIndexOf(".");for(c(t,t,e,n);-1!==r;)r=(o=o.substr(0,r)).lastIndexOf("."),c(t,o,e,n);c(t,i,e,n)}}function l(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,n)&&o(e[n]))}function h(t){for(var e=String(t),n=l(e)||l(i),o=e.lastIndexOf(".");!n&&-1!==o;)o=(e=e.substr(0,o)).lastIndexOf("."),n=l(e);return n}function p(t,e,n,i){var o=u(t="symbol"==typeof t?t.toString():t,e,i);return!!h(t)&&(!0===n?o():setTimeout(o,0),!0)}t.publish=function(e,n){return p(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return p(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,i){if("function"!=typeof i)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var o="uid_"+String(++n);return e[t][o]=i,o},t.subscribeAll=function(e){return t.subscribe(i,e)},t.subscribeOnce=function(e,n){var i=t.subscribe(e,function(){t.unsubscribe(i),n.apply(this,arguments)});return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,i,o=0;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)){for(i in e[n])o++;break}return o},t.getSubscriptions=function(t){var n,i=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&i.push(n);return i},t.unsubscribe=function(n){var i,o,r,a="string"==typeof n&&(Object.prototype.hasOwnProperty.call(e,n)||function(t){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t))return!0;return!1}(n)),s=!a&&"string"==typeof n,c="function"==typeof n,u=!1;if(!a){for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(o=e[i],s&&o[n]){delete o[n],u=n;break}if(c)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&o[r]===n&&(delete o[r],u=!0)}return u}t.clearSubscriptions(n)}}(i)),"object"==typeof n?(void 0!==e&&e.exports&&(n=e.exports=i),n.PubSub=i,e.exports=n=i):"function"==typeof define&&define.amd&&define(function(){return i})})("object"==typeof window&&window||this)},{}],CNY:[function(t,e){"use strict";cc._RF.push(e,"5e77b36o5lGkp97sxLufBiU","CNY"),e.exports={S_9001:"\u5c1a\u672a\u958b\u653e!",S_9100:"\u9023\u7dda\u932f\u8aa4!",T_001:"\u60a8\u9084\u672a\u6709\u5bf5\u7269\u5594",T_002:"\u5feb\u53bb\u5f97\u5230\u4e00\u96bb\u4f60\u7684\u7926\u72d7\u5427!",T_003:"\u60a8\u9084\u672a\u9078\u5b9a\u5bf5\u7269\u5594",T_004:"\u60a8\u9084\u672a\u9078\u5b9a\u5c0f\u5925\u4f34\u5594",T_005:"\u672a\u9078\u64c7",T_006:"\u7b49\u7d1a",T_007:"\u4f7f\u7528!",I_001:"\u7926\u6a5f\u529f\u80fd",I_002:"\u7926\u6a5f\u6bcf\u5c0f\u6642\u90fd\u6703\u7d66\u4e88\u73a9\u5bb6\u4e00\u5b9a\u6578\u91cf\u7684\u9322\u5e63\uff0c\u6bcf\u904e\u516d\u5c0f\u6642\u53ef\u9818\u4e00\u6b21\uff0c\u5341\u4e8c\u5c0f\u6642\u5373\u9054\u4e0a\u9650\u4e0d\u518d\u7d2f\u7a4d\u3002!",I_003:"\u7926\u6a5f\u7b49\u7d1a",I_004:"\u7926\u6a5f\u6703\u96a8\u8457\u7b49\u7d1a\u7684\u6210\u9577\u800c\u589e\u52a0\u6240\u5f97\u7684\u734e\u52f5\u3002\u6d88\u8017\u7f50\u982d\u53ca\u9280\u5e63\u6709\u4e00\u5b9a\u6a5f\u7387\u53ef\u4ee5\u63d0\u5347\u7926\u6a5f\u7b49\u7d1a\u3002"},cc._RF.pop()},{}],CfgMine:[function(t,e){"use strict";cc._RF.push(e,"c0116gUkgVNf4z35ur54na3","CfgMine"),e.exports={0:{levelName:["","",""],name:null,intro:""},1:{levelName:["obj_S_","obj_M_","obj_L_"],name:"\u5df4\u7279",intro:"\u5df4\u7279\u662f\u4e00\u96bb\u52e4\u596e\u7684\u5c0f\u72d7\u72d7\u3002\u96d6\u7136\u6709\u4e9b\u5065\u5fd8\uff0c\u4f46\u500b\u6027\u8001\u5be6\u6566\u539a\u3002\u6bcf\u51fa\u95806\u5c0f\u6642\u6703\u5e36\u56de\u4e00\u4e9b\u9280\u5e63\uff0c\u8a18\u5f97\u8981\u627e\u7260\u9818\u53d6\u54e6\uff01",skinIntro:new Map([[1,"\u5df4\u7279\u5929\u751f\u7684\u9ed1\u767d\u6bdb\u76ae\uff0c\u51ac\u6696\u590f\u6dbc\u5f88\u8212\u670d\u5594"],[7,"\u864e\u5e74\u9650\u5b9a\u7684\u5df4\u7279\u9020\u578b\uff0c\u6bcf\u5929\u90fd\u5728\u671f\u5f85\u5e6b\u4f60\u54ac\u9322\u56de\u5bb6(\u6d3b\u52d5\u671f\u9593\u9650\u6642\u9818\u53d6)"],[8,"\u6416\u8eab\u4e00\u8b8a\u842c\u7378\u4e4b\u738b\uff0c\u5c0f\u7345\u738b\u5df4\u7279\u5c31\u662f\u53ef\u4ee5\u548c\u5a01\u731b\u7684\u4ee3\u540d\u8a5e(\u50b2\u4e16\u7684\u99b4\u7345\u4e3b\u52a0\u76df\u5c08\u5c6c)"],[9,"\u9f8d\u9a0e\u58eb\u5df4\u7279\u4f86\u56c9\uff01\u4e94\u661f\u9020\u578b\u7a00\u6709\u5448\u73fe\uff0c\u5c0a\u69ae\u7684\u60a8\u503c\u5f97\u64c1\u6709(\u5c0a\u69ae\u7684\u99ad\u9f8d\u8005\u52a0\u76df\u5c08\u5c6c)"]]),skinName:new Map([[1,"\u5df4\u7279"],[7,"\u5df4\u7279-\u54ac\u9322\u864e"],[8,"\u5df4\u7279-\u5c0f\u7345\u738b"],[9,"\u5df4\u7279-\u9f8d\u9a0e\u58eb"]]),bgColor:new Map([[1,{r:255,g:187,b:0}],[7,{r:181,g:94,b:0}],[8,{r:133,g:117,b:72}],[9,{r:157,g:99,b:228}]]),rarity:new Map([[1,1],[7,2],[8,4],[9,5]])},2:{levelName:["","",""],name:null,intro:""},3:{levelName:["","",""],name:null,intro:""},4:{levelName:["","",""],name:null,intro:""},5:{levelName:["","",""],name:null,intro:""}},cc._RF.pop()},{}],CfgPartner:[function(t,e){"use strict";cc._RF.push(e,"9d6f5YqHa5C7IfaWiybgF6T","CfgPartner"),e.exports={0:{levelName:[""],name:null,intro:""},1:{levelName:["f1"],name:"\u827e\u54aa",intro:"\u827e\u54aa\u662f\u4e00\u96bb\u611b\u5192\u96aa\u537b\u53c8\u6709\u4e9b\u813e\u6c23\u66b4\u8e81\u7684\u5c0f\u96de\u3002\u611b\u5192\u96aa\u7684\u7260\uff0c\u7e3d\u6703\u5728\u51fa\u5916\u65c5\u884c\u5f8c\u5e36\u56de\u627e\u5230\u7684\u91d1\u5e63\u3002",bgColor:new Map([[1,{r:0,g:184,b:146}],[101,{r:181,g:94,b:0}],[102,{r:133,g:117,b:72}],[103,{r:157,g:99,b:0}]])},2:{levelName:[""],name:null,intro:""},3:{levelName:[""],name:null,intro:""},4:{levelName:[""],name:null,intro:""},5:{levelName:[""],name:null,intro:""}},cc._RF.pop()},{}],CollectGeneral:[function(t,e,n){"use strict";cc._RF.push(e,"001d4Aj4DNOvbICg2vzJCcK","CollectGeneral");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../data/GameCenter"),s=t("../../../GameController"),c=t("../../../manager/AssetsMng"),u=t("../../ui/UIBase"),l=t("./ParticleCoin"),h=t("../../../data/scene/DataCollectGeneral"),p=t("../../../common/ActionTransition"),d=t("../../../data/const/EventConst"),f=t("../mng/MinePartnerMessage"),_=t("../mng/MinePetMessage"),g=t("../mng/MinePetIconMouseEvent"),m=t("../mng/MinePartnerIconMouseEvent"),y=t("../coin/GetCoinAction"),v=t("../../../manager/MusicMng"),b=t("../../../manager/EventMng"),C=cc._decorator.ccclass,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canUpdateMine=!0,e}return o(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(h.default),this.particleCoin=this.ui.node_coin_particle_holder.addComponent(l.default),this.minePartnerMessage=this.ui.node_partner_message.addComponent(f.default),this.minePetMessage=this.ui.node_pet_message.addComponent(_.default),this.minePetIconMouseEvent=this.ui.node_icon_pet_box.addComponent(g.default),this.minePartnerIconMouseEvent=this.ui.node_icon_partner_box.addComponent(m.default),this.getCoinAction_6=this.ui.node_mine_coin_get_6.addComponent(y.default),this.getCoinAction_12=this.ui.node_mine_coin_get_12.addComponent(y.default),this.viewReset()},e.prototype.onShow=function(){var t=this;this.initEvent(d.MainEvent.GET_POINT,this.onGetPoint),this.initEvent(d.MainEvent.MINE_GENERAL_UPDATE,this.onMineUpdate),this.initEvent(d.MainEvent.UPDATE_WALLET,this.updatePoints),this.onRegisterEvent(this.ui.btn_get,this.onBtnGetClick,this),this.dataReset(),cc.game.on(cc.game.EVENT_SHOW,function(){t.updateMine()}),this.updateChooseIcon()},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_get,this.onBtnGetClick,this),this.stopMessageLoop()},e.prototype.viewReset=function(){this.setRoadTheme(),this.setPetSpineTheme(),this.setPartnerSpineTheme(),this.roadActive(!1),this.petActive(!1),this.partnerActive(!1),this.coinActive(!1),this.mineTipHide(),this.getCoinAction_12.setLightNode(this.ui.node_mine_coin_get_12_light),this.getCoinAction_6.setLightNode(this.ui.node_mine_coin_get_6_light),this.getCoinAction_6.stopAction(),this.getCoinAction_12.stopAction(),this.ui.label_time.string="00:00:00",this.ui.btn_get.active=!1,this.ui.btn_get.opacity=0,this.ui.node_coin_level_holder.opacity=0},e.prototype.dataReset=function(){this.setGoldPoint(),this.setSliverPoint(),this.updateWarehousePoint(),this.updateMoneyPile(),this.updateBtnGetState()},e.prototype.mineAniPlay=function(){var t=this;this.roadAniPlay(function(){t.setMessageLoop(),t.onMessageMounseEvent(),t.refreshMessageData(),t.repetForeverRunAniPlay(),t.mineTipShow(),t.mineMusicPlay()})},e.prototype.roadActive=function(t){void 0===t&&(t=!0),this.ui.spine_road.node.stopAllActions(),this.ui.spine_road.node.active=t},e.prototype.roadAniPlay=function(t){var e=this;this.roadActive(),this.ui.spine_road.node.runAction(cc.sequence(cc.callFunc(function(){e.ui.btn_get.opacity=0,e.ui.node_coin_level_holder.opacity=0,e.ui.spine_road.setAnimation(0,"run_op",!1),e.ui.spine_road.addAnimation(0,"run_action",!0)}),cc.delayTime(1),cc.callFunc(function(){e.ui.btn_get.active=!0,e.ui.btn_get.runAction(cc.fadeIn(.2)),e.ui.node_coin_level_holder.runAction(cc.fadeIn(.2)),t&&t()})))},e.prototype.setMessageLoop=function(){this.minePetMessage.set(this.ui.label_pet_message),this.minePartnerMessage.set(this.ui.label_partner_message_gold,this.ui.label_partner_message_silver)},e.prototype.stopMessageLoop=function(){this.minePetMessage.stop(),this.minePartnerMessage.stop()},e.prototype.onMessageMounseEvent=function(){this.minePetIconMouseEvent.onMouseSet(),this.minePartnerIconMouseEvent.onMouseSet()},e.prototype.stopMessageMounseEvent=function(){this.minePetIconMouseEvent.offMouseSet(),this.minePartnerIconMouseEvent.offMouseSet()},e.prototype.refreshMessageData=function(){this.minePetMessage.refreshData(this.ui.label_pet_message),this.minePartnerMessage.refreshData(this.ui.label_partner_message_gold,this.ui.label_partner_message_silver)},e.prototype.setRoadTheme=function(){var t=a.default.game.mineSelectID,e=a.default.game.mineRoadName[t];this.ui.spine_road.skeletonData=c.default.getAssets(e+".spine")},e.prototype.petActive=function(t){void 0===t&&(t=!0),this.ui.spine_pet.node.active=t},e.prototype.petRunAniPlay=function(){this.petActive(),this.ui.spine_pet.setAnimation(0,"run_patch_02",!0)},e.prototype.setPetSpineTheme=function(){var t=a.default.game.getPetBodyThemeName();this.petActive(),this.ui.spine_pet.skeletonData=c.default.getAssets(t+".spine"),this.setPetSkin()},e.prototype.setPetSkin=function(){this.ui.spine_pet.setSkin(a.default.game.getPetBodySkinName())},e.prototype.partnerActive=function(t){void 0===t&&(t=!0),this.ui.spine_partner.node.active=t},e.prototype.partnerRunAniPlay=function(){this.partnerActive(),this.ui.spine_partner.setAnimation(0,"run_patch_02",!0)},e.prototype.setPartnerSpineTheme=function(){var t=a.default.game.getPartnerBodyThemeName();this.partnerActive(),this.ui.spine_partner.skeletonData=c.default.getAssets(t+".spine")},e.prototype.coinActive=function(t){void 0===t&&(t=!0),this.ui.spine_coin.node.active=t},e.prototype.coinRunAniPlay=function(){this.coinActive(),this.ui.spine_coin.setAnimation(0,"run_patch_02",!0)},e.prototype.mineMusicPlay=function(){v.default.musicPlay("bg_run",!0)},e.prototype.mineTipShow=function(){this.ui.node_mine_tip_holder.active=!0,this.ui.node_mine_tip_holder.runAction(cc.fadeIn(.3))},e.prototype.mineTipHide=function(){this.ui.node_mine_tip_holder.opacity=0,this.ui.node_mine_tip_holder.active=!1},e.prototype.timeNumberChange=function(t){return t<10?"0"+t:""+t},e.prototype.formatSecond=function(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n;return" "+this.timeNumberChange(e)+":"+this.timeNumberChange(n)+":"+this.timeNumberChange(i)},e.prototype.getAccumulatedHours=function(){return Math.floor(a.default.game.currentTime/3600)},e.prototype.setGoldPoint=function(){var t=a.default.game.formatMoney(a.default.game.goldPoint);this.ui.label_gold.string=""+t},e.prototype.setSliverPoint=function(){var t=a.default.game.formatMoney(a.default.game.silverPoint);this.ui.label_sliver.string=""+t},e.prototype.updatePoints=function(){this.setGoldPoint(),this.setSliverPoint()},e.prototype.updateWarehousePoint=function(){this.ui.label_coin_txt.string=""+a.default.game.warehousePoint,this.ui.label_coin_silver.string=""+a.default.game.warehousePoint_silver,this.ui.label_coin_gold.string=""+a.default.game.warehousePoint_gold},e.prototype.updateMoneyPile=function(){for(var t=this.getMoneyPileLevel(),e=this.ui.node_coin_level_holder.children,n=0;n<e.length;n++)e[n].active=n==t},e.prototype.getMoneyPileLevel=function(){var t=this.getAccumulatedHours(),e=0;return t<6?e=0:t>=6&&t<12?e=1:t>=12&&(e=2),e},e.prototype.onBtnGetClick=function(){p.ActionTransition.btnBounce(this.ui.btn_get),b.default.emit(d.MainEvent.LOADTIP_SHOW),s.default.net.send("action",null)},e.prototype.onGetPoint=function(t){var e=this;if(0==t){var n=Number(a.default.game.collect.gold),i=Number(a.default.game.collect.silver);n=n<=30?n:30,i=i<=30?i:30,v.default.effectPlay("btn_coinget"),this.particleCoin.createCoins(cc.v2(0,-510),n,i,function(){e.updatePoints()})}else v.default.effectPlay("info_null")},e.prototype.onMineUpdate=function(){this.refreshMessageData(),this.updateWarehousePoint(),this.updateBarSchedule(),this.updateBtnGetState(),this.updateMoneyPile(),this.updateCoinLight()},e.prototype.updateMine=function(){var t=this;if(this.canUpdateMine){this.canUpdateMine=!1,s.default.net.send("other",null);var e=setTimeout(function(){t.canUpdateMine=!0,clearTimeout(e)},30)}},e.prototype.updateTime=function(){a.default.game.timeActive?this.ui.label_time.string!=this.formatSecond(a.default.game.currentTime)&&(this.ui.label_time.string=this.formatSecond(a.default.game.currentTime)):this.ui.label_time.string!=this.formatSecond(0)&&(this.ui.label_time.string=this.formatSecond(0))},e.prototype.updateBtnGetState=function(){this.getAccumulatedHours()<6?(this.ui.node_get_normal.active=!0,this.ui.node_get_active.active=!1):(this.ui.node_get_normal.active=!1,this.ui.node_get_active.active=!0)},e.prototype.updateChooseIcon=function(){this.ui.sprite_icon_pet.spriteFrame=a.default.getCurrentPetChooseIcon(),this.ui.sprite_icon_partner.spriteFrame=a.default.getCurrentPartnerChooseIcon()},e.prototype.updateBarSchedule=function(){var t=this.ui.node_bar_Mask.getContentSize().height,e=a.default.game.barMaxSize*(a.default.game.currentTime/43200);this.ui.node_bar_Mask.setContentSize(e,t)},e.prototype.repetForeverRunAniPlay=function(){this.petActive(),this.partnerActive(),this.coinActive(),this.RunAniPlay(),this.ui.spine_coin.setCompleteListener(this.RunAniPlay.bind(this))},e.prototype.RunAniPlay=function(){var t=1+Math.floor(2*Math.random()),e="run_patch_0"+String(t);this.ui.spine_pet.setAnimation(0,e,!0),this.ui.spine_partner.setAnimation(0,e,!0),this.ui.spine_coin.setAnimation(0,e,!0)},e.prototype.updateCoinLight=function(){var t=this.getAccumulatedHours();t>=12?(this.getCoinAction_12.isAction||this.getCoinAction_12.lightAction(),this.getCoinAction_6.isAction||this.getCoinAction_6.lightAction()):t>=6?this.getCoinAction_6.isAction||this.getCoinAction_6.lightAction():(this.getCoinAction_12.isAction&&this.getCoinAction_12.stopAction(),this.getCoinAction_6.isAction&&this.getCoinAction_6.stopAction())},e.prototype.update=function(){this.node.active&&this.updateTime()},r([C],e)}(u.default);n.default=M,cc._RF.pop()},{"../../../GameController":"GameController","../../../common/ActionTransition":"ActionTransition","../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","../../../data/scene/DataCollectGeneral":"DataCollectGeneral","../../../manager/AssetsMng":"AssetsMng","../../../manager/EventMng":"EventMng","../../../manager/MusicMng":"MusicMng","../../ui/UIBase":"UIBase","../coin/GetCoinAction":"GetCoinAction","../mng/MinePartnerIconMouseEvent":"MinePartnerIconMouseEvent","../mng/MinePartnerMessage":"MinePartnerMessage","../mng/MinePetIconMouseEvent":"MinePetIconMouseEvent","../mng/MinePetMessage":"MinePetMessage","./ParticleCoin":"ParticleCoin"}],CommandEnum:[function(t,e,n){"use strict";cc._RF.push(e,"c1440uUPJNMO46/PeAaYdxa","CommandEnum"),Object.defineProperty(n,"__esModule",{value:!0}),n.Command=void 0,function(t){t.GA_GOHOME="ga_gohome",t.GA_SELECTPET="ga_selectpet",t.GA_SELECTPARTNER="ga_selectpartner",t.GA_SELECTBAG="ga_selectbag",t.Start="start",t.Other="other",t.Use="use",t.Action="action",t.Upgrade="upgrade",t.Wallet="wallet",t.Getbag="getbag",t.Skin="skin",t.ReRead="reread",t.Close="close"}(n.Command||(n.Command={})),cc._RF.pop()},{}],ConInfo:[function(t,e,n){"use strict";cc._RF.push(e,"c0e5cv4NfBGcbqRGk6hGEnn","ConInfo");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_rareState_active=[],e.rememberRareCount=0,e}return o(e,t),e.prototype.onUILoad=function(){this.spine_model_view=cc.find("model_view",this.node).getComponent(sp.Skeleton),this.title_txt=cc.find("title",this.node).getComponent(cc.Label),this.intro_txt=cc.find("intro_txt",this.node).getComponent(cc.Label),this.rare_title_txt=cc.find("rare_holder/title",this.node).getComponent(cc.Label);for(var t=cc.find("rare_holder/rare_state",this.node),e=0;e<t.childrenCount;e++){var n=t.children[e].getChildByName("active");n.active=!1,this.node_rareState_active.push(n)}},e.prototype.setTitle=function(t){this.title_txt.string=t},e.prototype.setIntro=function(t){this.intro_txt.string=t},e.prototype.setRareTitle=function(t){this.rare_title_txt.string=t},e.prototype.setRare=function(t){if(t-this.rememberRareCount>0)for(var e=this.rememberRareCount;e<t;e++)this.node_rareState_active[e].active=!0;else for(e=this.rememberRareCount;t<e;e--)this.node_rareState_active[e-1].active=!1;this.rememberRareCount=t},e.prototype.reSetRareState=function(){this.node_rareState_active.forEach(function(t){t.active=!1})},e}(t("../../ui/UIBase").default);n.default=r,cc._RF.pop()},{"../../ui/UIBase":"UIBase"}],DataCollectGeneral:[function(t,e,n){"use strict";cc._RF.push(e,"681860GOZRHaqZFZ7UmArby","DataCollectGeneral");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node_mine_tip_holder=this.node.getChildByName("mine_tip_holder"),this.label_time=this.node_mine_tip_holder.getChildByName("remain_time").getComponent(cc.Label),this.label_coin_txt=this.node_mine_tip_holder.getChildByName("coin_txt").getComponent(cc.Label),this.label_coin_gold=cc.find("gold/gold_label",this.node_mine_tip_holder).getComponent(cc.Label),this.label_coin_silver=cc.find("silver/silver_label",this.node_mine_tip_holder).getComponent(cc.Label),this.node_bar_Mask=cc.find("bar/bat_strip_mask",this.node_mine_tip_holder),this.node_mine_coin_get_6=cc.find("mine_coin_get_6",this.node_mine_tip_holder),this.node_mine_coin_get_12=cc.find("mine_coin_get_12",this.node_mine_tip_holder),this.node_mine_coin_get_6_light=cc.find("light",this.node_mine_coin_get_6),this.node_mine_coin_get_12_light=cc.find("light",this.node_mine_coin_get_12),this.node_icon_pet_box=this.node.getChildByName("icon_pet_box"),this.sprite_icon_pet=this.node_icon_pet_box.getChildByName("icon").getComponent(cc.Sprite),this.node_icon_partner_box=this.node.getChildByName("icon_partner_box"),this.sprite_icon_partner=this.node_icon_partner_box.getChildByName("icon").getComponent(cc.Sprite),this.node_coin_particle_holder=this.node.getChildByName("coin_particle_holder"),this.node_gold_coin_holder=this.node.getChildByName("gold_coin_holder"),this.node_sliver_coin_holder=this.node.getChildByName("sliver_coin_holder"),this.node_coin_level_holder=this.node.getChildByName("coin_level_holder"),this.label_gold=this.node_gold_coin_holder.getChildByName("txt").getComponent(cc.Label),this.label_sliver=this.node_sliver_coin_holder.getChildByName("txt").getComponent(cc.Label),this.btn_get=this.node.getChildByName("btn_get"),this.node_get_normal=this.btn_get.getChildByName("normal"),this.node_get_active=this.btn_get.getChildByName("active"),this.spine_road=this.node.getChildByName("road").getComponent(sp.Skeleton),this.spine_pet=this.node.getChildByName("pet").getComponent(sp.Skeleton),this.spine_partner=this.node.getChildByName("partner").getComponent(sp.Skeleton),this.spine_coin=this.node.getChildByName("coin").getComponent(sp.Skeleton),this.node_pet_message=cc.find("msg_pet",this.node),this.label_pet_message=cc.find("label",this.node_pet_message).getComponent(cc.Label),this.node_partner_message=cc.find("msg_partner",this.node),this.label_partner_message_gold=cc.find("gold/label",this.node_partner_message).getComponent(cc.Label),this.label_partner_message_silver=cc.find("silver/label",this.node_partner_message).getComponent(cc.Label)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataGame:[function(t,e,n){"use strict";cc._RF.push(e,"0fdd3GZQGJGxqJ+FslCjHX8","DataGame");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getParent();this.Canvas=t.getChildByName("Canvas"),this.mine_mng_holder=this.Canvas.getChildByName("mine_mng_holder"),this.mine_holder=this.Canvas.getChildByName("mine_holder"),this.info_pop_holder=this.Canvas.getChildByName("info_pop_holder"),this.skin_pop_holder=this.Canvas.getChildByName("skin_pop_holder"),this.upgrade_holder=this.Canvas.getChildByName("upgrade_holder"),this.load_tip=this.Canvas.getChildByName("load_tip"),this.btn_close=this.Canvas.getChildByName("btn_close"),this.btn_info=this.Canvas.getChildByName("btn_info"),this.btn_sound=this.Canvas.getChildByName("btn_sound")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataLoading:[function(t,e,n){"use strict";cc._RF.push(e,"0008dcZGeVCd79FDAnjf6f3","DataLoading");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineCollect:[function(t,e,n){"use strict";cc._RF.push(e,"e3ba5jlSARHnasx6WtisttO","DataMineCollect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node_con_holder=this.node.getChildByName("con_holder"),this.node_view_holder=this.node_con_holder.getChildByName("view_holder"),this.node_con_1=this.node_view_holder.getChildByName("con_1"),this.btn_home=this.node.getChildByName("btn_home"),this.node_remindIcon=cc.find("remind/icon",this.btn_home),this.btn_vip=this.node.getChildByName("btn_vip")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineMngCon:[function(t,e,n){"use strict";cc._RF.push(e,"79162YREBtFPLtdy43/hcZX","DataMineMngCon");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node_view_holder=this.node.getChildByName("view_holder"),this.node_page_1=this.node_view_holder.getChildByName("con_1"),this.node_page_2=this.node_view_holder.getChildByName("con_2"),this.node_page_3=this.node_view_holder.getChildByName("con_3")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineMng:[function(t,e,n){"use strict";cc._RF.push(e,"adeeazM4dRK1rn5CeMn8Sqb","DataMineMng");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.tab_nav_holder=this.node.getChildByName("tab_holder"),this.con_holder=this.node.getChildByName("con_holder")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMinePetSelect:[function(t,e,n){"use strict";cc._RF.push(e,"f0a29L217FAM4rQ+9QnVoK+","DataMinePetSelect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node_item_slider_holder=this.node.getChildByName("item_slider_holder"),this.node_item_main=this.node_item_slider_holder.getChildByName("item_main"),this.node_arrow_holder=this.node.getChildByName("arrow_holder"),this.label_select_tip=this.node.getChildByName("select_tip").getComponent(cc.Label),this.node_intro_holder=this.node.getChildByName("intro_holder"),this.node_intro_txt_group=this.node_intro_holder.getChildByName("txt_group"),this.label_intro_title=this.node_intro_txt_group.getChildByName("title").getComponent(cc.Label),this.label_intro_con=this.node_intro_txt_group.getChildByName("con").getComponent(cc.Label),this.btn_slider_arrow_left=this.node_arrow_holder.getChildByName("arrow_left"),this.btn_slider_arrow_right=this.node_arrow_holder.getChildByName("arrow_right"),this.btn_go=this.node.getChildByName("btn_go"),this.node_btn_go_normal=this.btn_go.getChildByName("normal"),this.node_btn_go_active=this.btn_go.getChildByName("active"),this.page_view=this.node_item_slider_holder.getComponent(cc.PageView),this.layout=this.node_item_main.getComponent(cc.Layout),this.node_choose_tip_main=this.node.getChildByName("choose_tip_main"),this.node_choose_tip_bg=this.node_choose_tip_main.getChildByName("bg"),this.node_choose_img_mask=this.node_choose_tip_main.getChildByName("mask"),this.node_choose_tip_img=this.node_choose_img_mask.getChildByName("img"),this.sprite_choose_tip_img=this.node_choose_tip_img.getComponent(cc.Sprite),this.node_choose_state=this.node_choose_tip_main.getChildByName("btn_state"),this.label_choose_tip_title=this.node_choose_tip_main.getChildByName("title").getComponent(cc.Label)},e.prototype.rtttest=function(){},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineToolBox:[function(t,e,n){"use strict";cc._RF.push(e,"0c9ebgvRsVFL4K6mEvb/+vq","DataMineToolBox");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node_item_slider_holder=this.node.getChildByName("item_slider_holder"),this.node_item_main=this.node_item_slider_holder.getChildByName("item_main"),this.node_arrow_holder=this.node.getChildByName("arrow_holder"),this.node_props_holder=this.node.getChildByName("props_holder"),this.node_pet_dialog_holder=this.node.getChildByName("pet_dialog_holder"),this.label_pet_dialog_txt=this.node_pet_dialog_holder.getChildByName("txt").getComponent(cc.Label),this.node_level_holder=this.node.getChildByName("level_holder"),this.node_level_bar=this.node_level_holder.getChildByName("level_bar"),this.label_level_num=this.node_level_holder.getChildByName("level_num").getComponent(cc.Label),this.node_intro_holder=this.node.getChildByName("intro_holder"),this.label_msg_tip=this.node_intro_holder.getChildByName("msg_tip").getComponent(cc.Label),this.label_select_tip=this.node.getChildByName("select_tip").getComponent(cc.Label),this.node_intro_con_1=this.node_intro_holder.getChildByName("con_1"),this.node_intro_con_2=this.node_intro_holder.getChildByName("con_2"),this.node_intro_con_3=this.node_intro_holder.getChildByName("con_3"),this.btn_confirm=this.node.getChildByName("btn_confirm"),this.node_confirm_active=this.btn_confirm.getChildByName("active"),this.lable_confirm_active=this.node_confirm_active.getChildByName("txt").getComponent(cc.Label),this.node_state_tip=this.node.getChildByName("state_tip"),this.btn_slider_arrow_left=this.node_arrow_holder.getChildByName("arrow_left"),this.btn_slider_arrow_right=this.node_arrow_holder.getChildByName("arrow_right"),this.page_view=this.node_item_slider_holder.getComponent(cc.PageView),this.layout=this.node_item_main.getComponent(cc.Layout),this.node_choose_tip_main=this.node.getChildByName("choose_tip_main"),this.node_choose_tip_bg=this.node_choose_tip_main.getChildByName("bg"),this.node_choose_img_mask=this.node_choose_tip_main.getChildByName("mask"),this.node_choose_tip_img=this.node_choose_img_mask.getChildByName("img"),this.sprite_choose_tip_img=this.node_choose_tip_img.getComponent(cc.Sprite),this.node_choose_state=this.node_choose_tip_main.getChildByName("btn_state"),this.label_choose_tip_title=this.node_choose_tip_main.getChildByName("title").getComponent(cc.Label)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataUIMessage:[function(t,e,n){"use strict";cc._RF.push(e,"951fe/2bjRGuJYzEde9QRhM","DataUIMessage");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node_main=this.node.getChildByName("main"),this.node_backBg=this.node.getChildByName("bg"),this.label_msg_txt=this.node_main.getChildByName("txt").getComponent(cc.Label),this.btn_main=this.node_main.getChildByName("btn_main"),this.btn_cancel=this.btn_main.getChildByName("btn_cancel"),this.btn_confirm=this.btn_main.getChildByName("btn_confirm"),this.label_cancel=this.btn_cancel.getChildByName("txt").getComponent(cc.Label),this.label_confirm=this.btn_confirm.getChildByName("txt").getComponent(cc.Label)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataUIMusic:[function(t,e,n){"use strict";cc._RF.push(e,"87d10eQ+dlK/K0hO7FQVb4S","DataUIMusic");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node_main=this.node.getChildByName("main"),this.node_music=this.node_main.getChildByName("btn_music"),this.node_effect=this.node_main.getChildByName("btn_effect"),this.label_music=this.node_music.getChildByName("title").getComponent(cc.Label),this.label_effect=this.node_effect.getChildByName("title").getComponent(cc.Label),this.btn_music=this.node_music.getChildByName("switch_main"),this.btn_effect=this.node_effect.getChildByName("switch_main"),this.btn_close=this.node_main.getChildByName("btn_close"),this.label_close=this.btn_close.getChildByName("txt").getComponent(cc.Label),this.node_musicBg=this.btn_music.getChildByName("bg"),this.node_musicCircle=this.btn_music.getChildByName("circle"),this.node_effectBg=this.btn_effect.getChildByName("bg"),this.node_effectCircle=this.btn_effect.getChildByName("circle")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],EventConst:[function(t,e,n){"use strict";cc._RF.push(e,"23077tDaiFOYJMfHPD1J4iF","EventConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.MainEvent=n.LoadEvent=n.SocketEvent=void 0;var i=function(){function t(){}return t.SOCKET_OPEN="SOCKET_OPEN",t.SOCKET_CLOSE="SOCKET_CLOSE",t}();n.SocketEvent=i;var o=function(){function t(){}return t.LOAD_PRELOAD_DONE="LOAD_PRELOAD_DONE",t.LOAD_SUCCESS="LOAD_SUCCESS",t.LOAD_CHOOSESOUND="LOAD_CHOOSESOUND",t}();n.LoadEvent=o;var r=function(){function t(){}return t.ENTER_MINE_COLLECT="ENTER_MINE_COLLECT",t.ENTER_MINE_MNG="ENTER_MINE_MNG",t.MINE_GENERAL_UPDATE="MINE_GENERAL_UPDATE",t.MINE_MNG_PAGE_SWITCH="MINE_MNG_PAGE_SWITCH",t.MESSAGE_SHOW="MESSAGE_SHOW",t.MESSAGE_SHOWENDGAME="MESSAGE_SHOWENDGAME",t.GET_POINT="GET_POINT",t.PET_UPGRADE_REQ="PET_UPGRADE_REQ",t.PET_UPGRADE="PET_UPGRADE",t.PET_UPGRADE_CHANGE="PET_UPGRADE_CHANGE",t.CON3_PET_SKIN_CHANGE="CON3_PET_SKIN_CHANGE",t.CON1_PET_SKIN_CHANGE="CON1_PET_SKIN_CHANGE",t.OPEN_SKIN_POP_REQ="OPEN_SKIN_POP_REQ",t.OPEN_SKIN_POP="OPEN_SKIN_POP",t.OPEN_DECO_POP_REQ="OPEN_DECO_POP_REQ",t.OPEN_DECO_POP="OPEN_DECO_POP",t.MINE_CHANGE_REQ="MINE_CHANGE_REQ",t.PET_MESSAGE_SHOW="PET_MESSAGE_SHOW",t.PARTNER_MESSAGE_SHOW="PARTNER_MESSAGE_SHOW",t.PET_MESSAGE_HIDE="PET_MESSAGE_HIDE",t.PARTNER_MESSAGE_HIDE="PARTNER_MESSAGE_HIDE",t.PET_MESSAGE_CLICKSTART="PET_MESSAGE_CLICKSTART",t.PARTNER_MESSAGE_CLICKSTART="PARTNER_MESSAGE_CLICKSTART",t.PET_MESSAGE_CLICKEND="PET_MESSAGE_CLICKEND",t.PARTNER_MESSAGE_CLICKEND="PARTNER_MESSAGE_CLICKEND",t.UPDATE_WALLET="UPDATE_WALLET",t.COLLECT_REMIND="COLLECT_REMIND",t.MINE_REMIND="MINE_REMIND",t.BAG_REMIND="BAG_REMIND",t.CHECK_COMMED="CHECK_COMMED",t.LOADTIP_SHOW="LOADTIP_SHOW",t.LOADTIP_HIDE="LOADTIP_HIDE",t}();n.MainEvent=r,cc._RF.pop()},{}],EventMng:[function(t,e,n){"use strict";cc._RF.push(e,"4ad72P7XjxKhJOAtex6Rmy3","EventMng"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=new cc.EventTarget,cc._RF.pop()},{}],FakeCommed:[function(t,e,n){"use strict";cc._RF.push(e,"5c515MCTfZJhppBswMI+lUN","FakeCommed"),Object.defineProperty(n,"__esModule",{value:!0}),n.skin=n.CAction=n.CheckSuccess=n.Other=n.Start=n.Wallet=n.Getbag=n.ReRead=n.Upgrade=void 0;n.Upgrade=function(){this.petID=1,this.gold=10,this.silver=34567};n.ReRead=function(t,e){this.petID=t,this.skin=e||[new h(7,!1,2)]};n.Getbag=function(t){this.petID=1,this.skin=t||[new h(7,!1,2)]};n.Wallet=function(t,e){this.wallet=new r(t,e)};n.Start=function(t,e,n){this.wallet=new r(0,0),this.pet=[new u(1,!0)],this.elf=[new a(1,!0)],this.upgrade=new s,this.other=new i(0,0,0),this.can=t,this.currentElf=n,this.currentPet=e};var i=function(t,e,n){this.time=t,this.expect=new c(e,n)};n.Other=i;n.CheckSuccess=function(t){this.isSuccess=t};n.CAction=function(t,e,n,i,a){this.isSuccess=t,this.wallet=new r(e,n),this.getmine=new o(i,a)};var o=function(t,e){this.gold=t,this.silver=e},r=function(t,e){this.gold=t,this.silver=e},a=function(t,e){this.id=t,this.own=e},s=function(){this.silver=[500,1355,3672,9951,26967,123,4233,51231,2123,12512532,123210,2320,222212],this.can=[1,1,1,3,3,1,1,1,1,1,1,1],this.chance=[57.5,41.543,48.875,35.312,30.015,1,1,1,1,1,1,1]},c=function(t,e){this.gold=t,this.silver=e},u=function(t,e){this.id=t,this.own=e,this.info=new l(3,1,1)},l=function(t,e,n){this.level=t,this.currentSkin=e,this.currenDeco=n,this.skin=[new h(7,!1)],this.deco=new p},h=function(t,e,n){this.id=t,null!=e&&(this.isRead=e),null!=n&&(this.rarity=n)};n.skin=h;var p=function(){};cc._RF.pop()},{}],GPGAPI:[function(t,e,n){"use strict";cc._RF.push(e,"9f2569Jys9BA5U+pyZK6gQC","GPGAPI");var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.GPGAPI=void 0;var s=t("../data/const/EventConst"),c=a(t("../manager/EventMng")),u=t("./FakeCommed"),l=r(t("pubsub-js")),h=a(t("../manager/LangMng")),p=function(){function t(){this.testData_Silver=0,this.testData_Gold=0,this.upgrad=1,this.isRead=!1}return t.prototype.connect=function(){this.mylevel=1,this.iscan=10,this.testData_Time=1e6,window.addEventListener("message",this.onReceiveMessage,!1),c.default.on("test",this.sendFakeData,this),console.log(l),console.log(l.version),l.subscribe("MY TOPIC",this.send),l.publish("MY TOPIC",{str:"hello world!"})},t.prototype.send=function(t,e){console.log(t,e);var n={cmd:t,data:e};window.parent.postMessage(n,"*")},t.prototype.onReceiveMessage=function(t){if(console.log("\u5f8c\u7aef\u6536\u9001\u5c01\u5305\u5594",t),null!=t.data.cmd){var e=t.data.cmd,n=t.data.data;c.default.emit(s.MainEvent.CHECK_COMMED,e,n)}},t.prototype.sendFakeData=function(t){var e=t.data.cmd,n=t.data.data;if("start"==e){var i=new u.Start(this.iscan,1,1);i.pet[0].info.level=this.mylevel,n=i}if("other"==e&&(n=0==this.testData_Time?new u.Other(this.testData_Time,0,0):new u.Other(this.testData_Time,3e3,4e4)),"use"==e&&(n=n=new u.CheckSuccess(0)),"action"==e){var o=0;0==this.testData_Time&&(o=1,c.default.emit(s.MainEvent.MESSAGE_SHOW,{type:2,content:h.default.getTxt("S_9105"),autoClose:!0})),n=new u.CAction(o,3e3,4e4,3e3,4e4),this.testData_Gold=0,this.testData_Silver=0,this.testData_Time=0;var r=new u.Other(this.testData_Time,this.testData_Gold,this.testData_Silver);c.default.emit(s.MainEvent.CHECK_COMMED,"other",r)}if("upgrade"==e){this.upgrad=0==this.upgrad?1:0,0==this.upgrad?this.mylevel++:this.mylevel,this.iscan--;var a=new u.Upgrade;a.level=this.mylevel,a.can=this.iscan,a.isUpgrade=this.upgrad,n=a}"getbag"==e&&(n=this.isRead?new u.Getbag([new u.skin(7,!1,2),new u.skin(8,!1,4),new u.skin(9,!0,5)]):new u.Getbag),"skin"==e&&(n=new u.CheckSuccess(0)),"reread"==e&&(n=new u.ReRead(1),this.isRead=!0),console.log("\u5047\u8cc7\u6599\u5c01\u5305\u5594",e,n),c.default.emit(s.MainEvent.CHECK_COMMED,e,n)},t}();n.GPGAPI=p,cc._RF.pop()},{"../data/const/EventConst":"EventConst","../manager/EventMng":"EventMng","../manager/LangMng":"LangMng","./FakeCommed":"FakeCommed","pubsub-js":1}],GameCenter:[function(t,e,n){"use strict";cc._RF.push(e,"a0f07OGhsVLNaJb6hfQq2WI","GameCenter"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../manager/AssetsMng"),o=t("./config/CfgMine"),r=t("./config/CfgPartner"),a=t("./model/System"),s=t("./model/GameModel"),c=function(){function t(){this.cfgMine=o,this.cfgPartner=r,this.system=null,this.game=null,this.system=new a.default,this.game=new s.default,this.init()}return t.prototype.init=function(){for(var t=[this.system,this.game],e=0;e<t.length;e++)t[e].getData=this.getData.bind(this)},t.prototype.getData=function(t,e){return this[t]?this[t][e]:null},t.prototype.getCurrentPetChooseIcon=function(){var t=this.game.mineSelectID,e=Math.floor((this.game.mineLevel.get(t)-1)/3),n=this.cfgMine[t].levelName[e],o=-1==this.game.mineSelectSkin.get(t)?t:this.game.IDChangeClinet(this.game.mineSelectSkin.get(t));return i.default.getAssets("pet_1.plist").getSpriteFrame(""+(n+o.toString()))},t.prototype.getCurrentPartnerChooseIcon=function(){var t=this.game.partnerSelectID;return i.default.getAssets("pet_2.plist").getSpriteFrame("display_"+this.cfgPartner[t].levelName[0])},t}();n.default=new c,cc._RF.pop()},{"../manager/AssetsMng":"AssetsMng","./config/CfgMine":"CfgMine","./config/CfgPartner":"CfgPartner","./model/GameModel":"GameModel","./model/System":"System"}],GameController:[function(t,e,n){"use strict";cc._RF.push(e,"625adCwuHROjZwwrOIfvQIe","GameController"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./manager/AssetsMng"),o=t("./manager/SceneMng"),r=t("./manager/LangMng"),a=t("./api/GPGAPI"),s=function(){function t(){this.net=null}return t.prototype.init=function(){i.default.init(),o.default.init(),r.default.init(),this.net=new a.GPGAPI,this.net.connect()},t}();n.default=new s,cc._RF.pop()},{"./api/GPGAPI":"GPGAPI","./manager/AssetsMng":"AssetsMng","./manager/LangMng":"LangMng","./manager/SceneMng":"SceneMng"}],GameModel:[function(t,e,n){"use strict";cc._RF.push(e,"f2723OMcjJG6oiOUkAUM8YA","GameModel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../api/FakeCommed"),s=r(t("../../manager/EventMng")),c=t("../config/CfgMine"),u=t("../const/EventConst"),l=t("../Enum/CommandEnum"),h=t("../Enum/SceneEnum"),p=function(t){function e(){var e=t.call(this,"Game")||this;return e.cfgMine=c,e._mineSelectID=0,e.mineSelectSkin=new Map,e.mineSelectDeco=new Map,e.mineList=new Map,e.mineID=new Map,e.mineLevel=new Map,e.mineSkinOwn=new Map,e.mineSkinUsed=new Map,e._partnerSelectID=0,e.partnerList=new Map,e._canGo=!1,e.goldPoint=0,e.silverPoint=0,e.warehousePoint=0,e.warehousePoint_gold=0,e.warehousePoint_silver=0,e.timeActive=!1,e.countDownTimer=null,e.currentTime=0,e.grandTotalTime=120,e.barMaxSize=513,e.collect={gold:0,silver:0},e.levelConfig={silver:[0,0,0,0,0,0,0,0,0],can:[0,0,0,0,0,0,0,0,0],rate:[0,0,0,0,0,0,0,0,0]},e.canCount=0,e.mineSkinListData=[],e.levelSkinName=["obj_S","obj_M","obj_L"],e.mineBodyName=new Map,e.mineFloorName=["floor_01","floor_01","floor_01","floor_01","floor_01"],e.mineRoadName=["map_gpg1","map_gpg1","map_gpg1","map_gpg1","map_gpg1"],e.partnerBodyName=new Map,e}return o(e,t),e.prototype.getMessageListeners=function(){var t,e=this;return(t={})[l.Command.Start]=function(t){e.onStart(t)},t[l.Command.Action]=function(t){e.onAction(t)},t[l.Command.Other]=function(t){e.onOther(t)},t[l.Command.Upgrade]=function(t){e.onUpgrade(t)},t[l.Command.Getbag]=function(t){e.onGetBag(t)},t[l.Command.Use]=function(t){e.onUse(t)},t[l.Command.Wallet]=function(t){e.onWallet(t)},t[l.Command.Skin]=function(t){e.onSkin(t)},t[l.Command.ReRead]=function(t){e.onReRead(t)},t},e.prototype.onStart=function(t){var e=this;if(null!=t){this.goldPoint=t.wallet.gold,this.silverPoint=t.wallet.silver,this.mineSelectID=t.currentPet;var n=1;console.log(t);for(var i=function(i){var r=t.pet[i],a=r&&r.own?1:0;o.mineList.set(n,a),1==a?(o.mineID.set(n,r.id),o.mineSelectSkin.set(r.id,r.info.currentSkin),o.mineSelectDeco.set(r.id,r.info.currenDeco),o.cfgMine[r.id].skinName.forEach(function(t,n){var i=1==n?"pet":"pet_";if(e.mineBodyName.set(n,i+e.IDChangeClinet(n)),1==n)e.mineSkinUsed.set(r.id,!0),e.mineSkinOwn.set(r.id,!0);else{var o=!1,a=!1;r.info.skin.forEach(function(t){if(t.id==n)return o=!0,void(a=t.isRead)}),e.mineSkinOwn.set(n,o),e.mineSkinUsed.set(n,a)}}),o.mineLevel.set(r.id,r.info.level)):o.mineID.set(n,0),n++},o=this,r=0;r<5;r++)i(r);var a=1;for(this.partnerSelectID=t.currentElf,r=0;r<5;r++){var c=t.elf[r],l=c&&c.own?1:0;this.partnerList.set(a,l),l&&this.partnerBodyName.set(c.id,"mining1"),a++}this.levelConfig.silver=t.upgrade.silver,this.levelConfig.can=t.upgrade.can,this.levelConfig.rate=t.upgrade.chance,this.canCount=t.can,this.grandTotalTime=t.other.time,this.warehousePoint=t.other.expect.silver,this.warehousePoint_gold=this.formatBlind(t.other.expect.gold),this.warehousePoint_silver=this.formatBlind(t.other.expect.silver),this.timeStart(),s.default.emit(u.LoadEvent.LOAD_SUCCESS)}else s.default.emit(u.MainEvent.MESSAGE_SHOW,{code:"S_9100"})},e.prototype.onAction=function(t){console.log("???\u50b3\u9001\u02cb\u5230\u9019\u908a?"),console.log(t),0==t.isSuccess&&(this.goldPoint=t.wallet.gold,this.silverPoint=t.wallet.silver,this.collect.gold=t.getmine.gold,this.collect.silver=t.getmine.silver),s.default.emit(u.MainEvent.GET_POINT,t.isSuccess)},e.prototype.onOther=function(t){this.timeStop(),this.grandTotalTime=t.time>43200?43200:t.time,this.warehousePoint=t.expect.silver,this.warehousePoint_gold=this.formatBlind(t.expect.gold),this.warehousePoint_silver=this.formatBlind(t.expect.silver),this.timeStart(),s.default.emit(u.MainEvent.MINE_GENERAL_UPDATE)},e.prototype.onUpgrade=function(t){this.checkIsHave(t.can)&&(this.canCount=t.can),this.checkIsHave(t.gold)&&(this.goldPoint=t.gold),this.checkIsHave(t.silver)&&(this.silverPoint=t.silver),s.default.emit(u.MainEvent.PET_UPGRADE,t)},e.prototype.onUse=function(t){var e=t.isSuccess;s.default.emit(u.MainEvent.ENTER_MINE_COLLECT,{state:e})},e.prototype.onWallet=function(t){this.goldPoint=t.wallet.gold,this.silverPoint=t.wallet.silver,console.log("\u66f4\u65b0Wallet",t),console.log(this.goldPoint),console.log(this.silverPoint),cc.director.getScene().name==h.Scene.MainGame&&(console.log("\u8239\u5594"),s.default.emit(u.MainEvent.UPDATE_WALLET))},e.prototype.onSkin=function(t){0==t.isSuccess&&(s.default.emit(u.MainEvent.CON3_PET_SKIN_CHANGE),s.default.emit(u.MainEvent.MINE_REMIND,2),s.default.emit(u.MainEvent.BAG_REMIND,2))},e.prototype.onReRead=function(t){var e=!1,n=t.skin;if(0!=t.skin.length)for(var i=0;i<n.length;i++)this.mineSkinOwn.set(n[i].id,!0),this.mineSkinUsed.get(n[i].id)!=n[i].isRead&&(this.mineSkinUsed.set(n[i].id,n[i].isRead),e=!0);e&&(s.default.emit(u.MainEvent.MINE_REMIND,2),s.default.emit(u.MainEvent.BAG_REMIND,2),s.default.emit(u.MainEvent.COLLECT_REMIND,this.checkSkinRemind()))},e.prototype.onGetBag=function(t){var e=this,n=[];t.skin.length>0&&t.skin.forEach(function(t){e.mineSkinOwn.set(t.id,!0),e.mineSkinUsed.set(t.id,t.isRead)}),this.mineSkinOwn.forEach(function(t,i){var o=new a.skin(i,e.mineSkinUsed.get(i),e.cfgMine[1].rarity.get(i));n.push(o)}),this.mineSkinListData=n,s.default.emit(u.MainEvent.OPEN_SKIN_POP,t)},e.prototype.timeInit=function(){this.currentTime=this.grandTotalTime},e.prototype.timeStart=function(){var t=this;this.timeInit(),this.timeActive=!0;var e=0,n=(new Date).getTime(),i=function(){if(clearTimeout(t.countDownTimer),!(t.currentTime<0||t.currentTime>=43200)){e+=1e3;var o=(new Date).getTime()-n-e;t.currentTime+=1,t.currentTime<0?t.timeStop():t.countDownTimer=setTimeout(i,1e3-o)}};this.countDownTimer=setTimeout(i,1e3)},e.prototype.timeStop=function(){this.timeActive=!1,this.currentTime=0,clearTimeout(this.countDownTimer)},e.prototype.hasMine=function(){return 0!=this.mineList.get(this.mineSelectID)},e.prototype.getPetBodyThemeName=function(t){var e=0==t||t>0?t:this.mineSelectID,n=this.mineBodyName.get(e);if(-1!=this.mineSelectSkin.get(e)&&this.mineSelectSkin.get(e)!=e){var i=this.mineSelectSkin.get(e);n=this.mineBodyName.get(i)}return n},e.prototype.getPetBodySkinName=function(t){var e=0==t||t>0?t:this.mineSelectID,n=this.levelSkinName[Math.floor((this.mineLevel.get(e)-1)/3)];return null==n&&(n=this.levelSkinName[this.levelSkinName.length-1]),n},e.prototype.getPartnerBodyThemeName=function(){return this.partnerBodyName.get(this.partnerSelectID)},e.prototype.hasPartner=function(){return 0!=this.partnerList.get(this.partnerSelectID)},e.prototype.formatMoney=function(t){var e=t.toString().split(".")[0],n=t.toString().split(".")[1];if(e.length<4)return t.toString();for(var i=Math.floor(e.length/3),o=e.length%3,r=e,a=i;a>=1;a--)0==o&&1==a||(r=r.substring(0,o+3*(a-1))+","+r.substring(o+3*(a-1),r.length));if(r.length>=13)return r;if("undefined"!=n&&null!=n){var s=n.length>2?2:n.length;if(1==s&&"0"==n.substring(0,s)||2==s&&"00"==n.substring(0,s))return r;r=r+"."+n.substring(0,s)}return r},e.prototype.formatBlind=function(t){var e,n,i=t.toString().split(".")[0];return i.length<9?this.formatMoney(t):(i.length>=4&&i.length<7?e=""==(n=(n=Number(t.toString().substring(i.length-3,i.length))/1e3).toString().slice(2,4))?t.toString().substring(0,i.length-3)+"K":t.toString().substring(0,i.length-3)+"."+n+"K":i.length>=7&&i.length<10?(n=Number(t.toString().substring(i.length-6,i.length-3))/1e3,e=""==(n=Number(n.toString().slice(2,4)))?t.toString().substring(0,i.length-6)+"M":t.toString().substring(0,i.length-6)+"."+n+"M"):i.length>=10&&(n=Number(t.toString().substring(i.length-9,i.length-6))/1e3,e=""==(n=Number(n.toString().slice(2,4)))?t.toString().substring(0,i.length-9)+"B":t.toString().substring(0,i.length-9)+"."+n+"B"),e)},e.prototype.checkIsHave=function(t){return null!=t&&null!=t},e.prototype.IDChangeClinet=function(t){switch(t){case-1:return 1;case 7:return 101;case 8:return 102;case 9:return 103;default:return t}},e.prototype.checkAllRemind=function(){},e.prototype.checkSkinRemind=function(){var t=this,e=!1;return this.mineSkinOwn.forEach(function(n,i){!n||t.mineSkinUsed.get(i)||(e=!0)}),e},Object.defineProperty(e.prototype,"mineSelectID",{get:function(){return this._mineSelectID},set:function(t){this._mineSelectID=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"partnerSelectID",{get:function(){return this._partnerSelectID},set:function(t){this._partnerSelectID=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canGo",{get:function(){return this._canGo=!(!this.hasMine()||!this.hasPartner()),this._canGo},set:function(t){this._canGo=t},enumerable:!1,configurable:!0}),e}(r(t("../IDataModel")).default);n.default=p,cc._RF.pop()},{"../../api/FakeCommed":"FakeCommed","../../manager/EventMng":"EventMng","../Enum/CommandEnum":"CommandEnum","../Enum/SceneEnum":"SceneEnum","../IDataModel":"IDataModel","../config/CfgMine":"CfgMine","../const/EventConst":"EventConst"}],GetCoinAction:[function(t,e,n){"use strict";cc._RF.push(e,"d677eUhV0lLCpXE76+smWkR","GetCoinAction");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onUILoad=function(){this.node.setScale(.7)},e.prototype.setLightNode=function(t){this.lightNode=t,t.active=!1},e.prototype.lightAction=function(){this.isAction||(this.lightNode.active=!0,this.isAction=!0,this.lightNode.runAction(cc.repeatForever(cc.rotateBy(.016,1))),this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(t){t.setScale(.7)}),cc.scaleTo(.5,1).easing(cc.easeBackInOut()),cc.delayTime(2)))))},e.prototype.stopAction=function(){this.isAction=!1,this.lightNode.active=!1,this.node.setScale(.7),this.lightNode.stopAllActions(),this.node.stopAllActions()},e}(t("../../ui/UIBase").default);n.default=r,cc._RF.pop()},{"../../ui/UIBase":"UIBase"}],IDataModel:[function(t,e,n){"use strict";cc._RF.push(e,"5b69fxbAnxDyKy2tHdRK8MZ","IDataModel"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../manager/EventMng"),o=function(){function t(t){void 0===t&&(t="default"),this.modelName="default",this.modelName=t,this.registerListeners()}return t.prototype.registerListeners=function(){var t=this.getMessageListeners(),e=function(e){t.hasOwnProperty(e)&&i.default.on(e.toString(),function(n){t[e](n)})};for(var n in t)e(n)},t.prototype.getMessageListeners=function(){return{}},t.prototype.getData=function(){},t}();n.default=o,cc._RF.pop()},{"../manager/EventMng":"EventMng"}],LangMng:[function(t,e,n){"use strict";cc._RF.push(e,"f55cb6l4/tA2ohzJpkFRfG6","LangMng"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../data/GameCenter"),o=function(){function e(){this._data=null}return e.prototype.init=function(){var e=i.default.system.language;this._data=t(e)},e.prototype.getTxt=function(t){if(this._data)return null==t?t:null==this._data[t]?t:this._data[t]},e}();n.default=new o,cc._RF.pop()},{"../data/GameCenter":"GameCenter"}],Log:[function(t,e,n){"use strict";cc._RF.push(e,"91663yV+DxPHogKRY3ADlL1","Log"),Object.defineProperty(n,"__esModule",{value:!0}),n.ERRORLOG=void 0,n.ERRORLOG=function(t){console.error(t)},cc._RF.pop()},{}],MainGame:[function(t,e,n){"use strict";cc._RF.push(e,"3d49ey3UNdNHILW3a7N49Vl","MainGame");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=c(t("../../GameController")),l=c(t("../../data/GameCenter")),h=c(t("../../manager/EventMng")),p=c(t("../../manager/LangMng")),d=t("../../data/const/EventConst"),f=t("../../data/const/ViewZorder"),_=c(t("../../data/scene/DataGame")),g=c(t("../mine/MineMng")),m=c(t("../mine/MineCollect")),y=c(t("../ui/UIBase")),v=c(t("../ui/UIHelp")),b=c(t("../ui/UIInfo")),C=c(t("../ui/UILoading")),M=c(t("../ui/UILoadTip")),E=c(t("../ui/UIUpgradePanel")),S=c(t("../ui/UISkinPop")),P=c(t("../../manager/MusicMng")),I=c(t("../../manager/AssetsMng")),O=t("../../api/FakeCommed"),w=t("../../data/Enum/CommandEnum"),A=t("../../data/Enum/SceneEnum"),T=cc._decorator.ccclass,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.reReadTime=10,e.pages=[],e._prePageIndex=-1,e._currentPageIndex=0,e}return o(e,t),e.prototype.onUILoad=function(){cc.director.getScene().name!=A.Scene.MainGame&&(cc.director.getScene().name=A.Scene.MainGame),this.ui=this.node.addComponent(_.default),this.mineMng=this.ui.mine_mng_holder.addComponent(g.default),this.mineCollect=this.ui.mine_holder.addComponent(m.default),this.upgradePanel=this.ui.upgrade_holder.addComponent(E.default),this.infoPop=this.ui.info_pop_holder.addComponent(b.default),this.loadTip=this.ui.load_tip.addComponent(M.default),this.skinPop=this.ui.skin_pop_holder.addComponent(S.default),this.viewInit()},e.prototype.onShow=function(){this.initEvent(d.MainEvent.ENTER_MINE_COLLECT,this.onEnterMineCollect),this.initEvent(d.MainEvent.ENTER_MINE_MNG,this.onEnterMineMng),this.initEvent(d.MainEvent.MESSAGE_SHOW,this.onMessageShow),this.initEvent(d.MainEvent.MESSAGE_SHOWENDGAME,this.onMessageShowEndGame),this.initEvent(d.MainEvent.PET_UPGRADE_REQ,this.onPetUpgradeReq),this.initEvent(d.MainEvent.PET_UPGRADE,this.onPetUpgrade),this.initEvent(d.MainEvent.OPEN_SKIN_POP_REQ,this.onOpenSkinPopReq),this.initEvent(d.MainEvent.OPEN_SKIN_POP,this.onOpenSkinPop),this.initEvent(d.MainEvent.MINE_CHANGE_REQ,this.onMineChangeReq),this.initEvent(d.MainEvent.LOADTIP_HIDE,this.loadTipHide),this.initEvent(d.MainEvent.LOADTIP_SHOW,this.loadTipShow),this.initEvent(d.MainEvent.CHECK_COMMED,this.checkCommed),this.onRegisterEvent(this.ui.btn_close,this.onBtnCloseClick,this),this.onRegisterEvent(this.ui.btn_info,this.onBtnInfoClick,this),this.onRegisterEvent(this.ui.btn_sound,this.onBtnSoundClick,this),this.schedule(this.onLisnerSendReRead,this.reReadTime,cc.macro.REPEAT_FOREVER),v.default.HideUI(C.default),this.onMineChangeReq(),P.default.effectPlay("btn_go")},e.prototype.viewInit=function(){this.btnsSetZIndex(),this.createPages(),this.btnSoundState()},e.prototype.createPages=function(){this.pages.push(this.mineMng),this.pages.push(this.mineCollect)},e.prototype.switchPage=function(t){this.prePageIndex!=this.currentPageIndex&&(-1!=this._prePageIndex&&this.pages[this.prePageIndex].hide(t),this.pages[this.currentPageIndex].show(t))},e.prototype.loadTipShow=function(t){this.loadTip.show(t)},e.prototype.loadTipHide=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.loadTip.hide()];case 1:return t.sent(),[2]}})})},e.prototype.btnsSetZIndex=function(){var t=f.ViewZorder.Btn;this.ui.btn_close.zIndex=t,this.ui.btn_info.zIndex=t,this.ui.btn_sound.zIndex=t},e.prototype.btnClosePosReset=function(t){var e=cc.v2();switch(t){case 0:e=cc.v2(279,495);break;case 1:e=cc.v2(279,590)}this.ui.btn_close.setPosition(e)},e.prototype.btnInfoPosReset=function(t){var e=cc.v2();switch(t){case 0:e=cc.v2(185,495);break;case 1:e=cc.v2(185,590)}this.ui.btn_info.setPosition(e)},e.prototype.btnSoundPosReset=function(t){var e=cc.v2();switch(t){case 0:e=cc.v2(94,495);break;case 1:e=cc.v2(94,590)}this.ui.btn_sound.setPosition(e)},e.prototype.btnSoundState=function(){var t=P.default.getMusicState();this.ui.btn_sound.getComponent(cc.Sprite).spriteFrame=t?I.default.getAssets("btn_music_on"):I.default.getAssets("btn_music_off")},e.prototype.onPageSwitch=function(t){this.prePageIndex=this.currentPageIndex,this.currentPageIndex=t,this.switchPage(!0),this.btnClosePosReset(t),this.btnInfoPosReset(t),this.btnSoundPosReset(t)},e.prototype.onEnterMineCollect=function(t){0==t.state?(this.onPageSwitch(1),this.mineCollect.collectGeneral.updateMine(),h.default.emit(d.MainEvent.COLLECT_REMIND,l.default.game.checkSkinRemind())):this.onMessageShow({type:2,content:p.default.getTxt("S_9102"),autoClose:!0})},e.prototype.onEnterMineMng=function(){this.onPageSwitch(0)},e.prototype.onMessageShow=function(t){v.default.ShowDialog(t)},e.prototype.onMessageShowEndGame=function(t){console.log("\u6536\u5230\u901a\u77e5\u4e86",t),v.default.ShowDialog({content:p.default.getTxt(t.code),type:3})},e.prototype.onBtnCloseClick=function(){P.default.effectPlay("btn_main1",!1),u.default.net.send("close",null)},e.prototype.onBtnInfoClick=function(){P.default.effectPlay("btn_main1",!1),this.infoPop.show()},e.prototype.onBtnSoundClick=function(){P.default.switchEffect(),P.default.switchMusic(),this.btnSoundState(),P.default.effectPlay("btn_main1",!1)},e.prototype.onMineChangeReq=function(){this.loadTipShow(.5),u.default.net.send("use",{petID:l.default.game.mineSelectID,elfID:l.default.game.partnerSelectID})},e.prototype.onPetUpgradeReq=function(t){this.loadTipShow(),u.default.net.send("upgrade",{petID:t.id})},e.prototype.onPetUpgrade=function(t){var e=this,n=t.isUpgrade;switch(n){case 0:case 1:P.default.effectPlay("btn_use"),this.upgradePanel.show(t.petID);var i=P.default.effectPlay("level_wait",!0),o=setTimeout(function(){e.upgradePanel.hide(function(){P.default.effectStop(i),h.default.emit(d.MainEvent.PET_UPGRADE_CHANGE,{state:n,id:t.petID})}),clearTimeout(o)},3e3);break;case 2:return void this.onUpgradeError("T_108");case 3:return void this.onUpgradeError("T_109");case 4:return void this.onUpgradeError("T_107")}l.default.game.mineLevel.set(t.petID,t.level),this.mineMng.con.page1.slider.items[t.petID].setLevel(t.petID,t.level)},e.prototype.onUpgradeError=function(t){P.default.effectPlay("info_null"),h.default.emit(d.MainEvent.MESSAGE_SHOW,{type:2,content:p.default.getTxt(t),autoClose:!0})},e.prototype.onOpenSkinPopReq=function(t){console.log(t),this.loadTipShow(),u.default.net.send("getbag",{petID:t.id})},e.prototype.onOpenSkinPop=function(t){var e=t.petID,n=l.default.game.mineLevel.get(e);this.skinPop.show({petID:e,level:n})},e.prototype.onCloseSkinPop=function(){this.skinPop.hide()},e.prototype.onLisnerSendReRead=function(){u.default.net.send("reread",{petID:l.default.game.mineSelectID})},e.prototype.checkCommed=function(t,e){var n=null,i=null;switch(t){case w.Command.Other:n=new O.Other;break;case w.Command.ReRead:n=new O.ReRead;break;case w.Command.Wallet:n=new O.Wallet;break;case w.Command.Use:this.loadTipHide(),n=new O.CheckSuccess;break;case w.Command.Upgrade:this.loadTipHide(),n=new O.Upgrade;break;case w.Command.Action:this.loadTipHide(),n=new O.CAction;break;case w.Command.Getbag:this.loadTipHide(),n=new O.Getbag;break;case w.Command.Skin:this.loadTipHide(),n=new O.CheckSuccess;break;case w.Command.Close:case w.Command.GA_GOHOME:case w.Command.GA_SELECTBAG:case w.Command.GA_SELECTPARTNER:case w.Command.GA_SELECTPET:return;default:h.default.emit(d.MainEvent.MESSAGE_SHOWENDGAME,{code:"S_9104"})}if(n)for(var o in n)if(!e.hasOwnProperty(o)){i="S_9103";break}console.log(i),i&&h.default.emit(d.MainEvent.MESSAGE_SHOWENDGAME,{code:i}),h.default.emit(t,e)},Object.defineProperty(e.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(t){this._currentPageIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prePageIndex",{get:function(){return this._prePageIndex},set:function(t){this._prePageIndex=t},enumerable:!1,configurable:!0}),r([T],e)}(y.default);n.default=R,cc._RF.pop()},{"../../GameController":"GameController","../../api/FakeCommed":"FakeCommed","../../data/Enum/CommandEnum":"CommandEnum","../../data/Enum/SceneEnum":"SceneEnum","../../data/GameCenter":"GameCenter","../../data/const/EventConst":"EventConst","../../data/const/ViewZorder":"ViewZorder","../../data/scene/DataGame":"DataGame","../../manager/AssetsMng":"AssetsMng","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../../manager/MusicMng":"MusicMng","../mine/MineCollect":"MineCollect","../mine/MineMng":"MineMng","../ui/UIBase":"UIBase","../ui/UIHelp":"UIHelp","../ui/UIInfo":"UIInfo","../ui/UILoadTip":"UILoadTip","../ui/UILoading":"UILoading","../ui/UISkinPop":"UISkinPop","../ui/UIUpgradePanel":"UIUpgradePanel"}],MainLoading:[function(t,e,n){"use strict";cc._RF.push(e,"b5d27Ax+B5PZ7cPb5SXl9yK","MainLoading");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("../../GameController")),c=a(t("../../manager/AssetsMng")),u=a(t("../../manager/SceneMng")),l=t("../../data/const/EventConst"),h=a(t("../ui/UIBase")),p=a(t("../ui/UIHelp")),d=a(t("../../manager/LangMng")),f=a(t("../../manager/MusicMng")),_=a(t("../../manager/EventMng")),g=t("../../data/Enum/CommandEnum"),m=t("../../api/FakeCommed"),y=t("../../data/Enum/SceneEnum"),v=cc._decorator.ccclass,b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onUILoad=function(){cc.director.getScene().name!=y.Scene.Login&&(cc.director.getScene().name=y.Scene.Login),p.default.ShowLoading(),p.default.ShowVersen(),p.default.ShowDialog(null),this.initEvent(l.LoadEvent.LOAD_PRELOAD_DONE,this.onAssetLoadDone),this.initEvent(l.LoadEvent.LOAD_SUCCESS,this.onLoadSuccess),this.initEvent(l.MainEvent.MESSAGE_SHOW,this.onMessageShow),this.initEvent(l.MainEvent.MESSAGE_SHOWENDGAME,this.onMessageShowEndGame),this.initEvent(l.MainEvent.CHECK_COMMED,this.checkCommed),u.default.resize()},e.prototype.onStart=function(){s.default.init(),this.onPreLoad()},e.prototype.onPreLoad=function(){f.default.load(),c.default.onPreLoad()},e.prototype.onAssetLoadDone=function(){u.default.preload("mainGame",this.onNextSceneLoad.bind(this))},e.prototype.onNextSceneLoad=function(){s.default.net.send("start",null)},e.prototype.onLoadSuccess=function(){_.default.emit(l.LoadEvent.LOAD_CHOOSESOUND,function(){u.default.goGame()})},e.prototype.onMessageShowEndGame=function(t){console.log("\u6536\u5230\u901a\u77e5\u4e86",t),p.default.ShowDialog({content:d.default.getTxt(t.code),type:3})},e.prototype.onMessageShow=function(t){p.default.ShowDialog({content:d.default.getTxt(t.code)})},e.prototype.checkCommed=function(t,e){var n=null,i=null;switch(t){case g.Command.Start:n=new m.Start;break;case g.Command.Wallet:n=new m.Wallet;break;default:_.default.emit(l.MainEvent.MESSAGE_SHOWENDGAME,{code:"S_9104"})}if(n)for(var o in n)if(!e.hasOwnProperty(o)){i="S_9103";break}i&&_.default.emit(l.MainEvent.MESSAGE_SHOWENDGAME,{code:i}),_.default.emit(t,e)},e.prototype.update=function(){},r([v],e)}(h.default);n.default=b,cc._RF.pop()},{"../../GameController":"GameController","../../api/FakeCommed":"FakeCommed","../../data/Enum/CommandEnum":"CommandEnum","../../data/Enum/SceneEnum":"SceneEnum","../../data/const/EventConst":"EventConst","../../manager/AssetsMng":"AssetsMng","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../../manager/MusicMng":"MusicMng","../../manager/SceneMng":"SceneMng","../ui/UIBase":"UIBase","../ui/UIHelp":"UIHelp"}],MineCollect:[function(t,e,n){"use strict";cc._RF.push(e,"ccc99o6jJ9MNa1E8Z6mswH1","MineCollect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=t("../../manager/LangMng"),c=t("../ui/UIBase"),u=t("../../common/ActionTransition"),l=t("../../data/const/EventConst"),h=t("../../data/scene/DataMineCollect"),p=t("./collect/CollectGeneral"),d=t("../../GameController"),f=t("../../data/Enum/CommandEnum"),_=t("../../manager/MusicMng"),g=cc._decorator.ccclass,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.currentPageIndex=0,e}return o(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(h.default),this.collectGeneral=this.ui.node_con_1.addComponent(p.default),this.viewInit()},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_home,this.onBtnHomeClick,this),this.onRegisterEvent(this.ui.btn_vip,this.onBtnVipClick,this),this.initEvent(l.MainEvent.COLLECT_REMIND,this.reViewRemind)},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_home,this.onBtnHomeClick,this),this.unRegisterEvent(this.ui.btn_vip,this.onBtnVipClick,this)},e.prototype.viewInit=function(){this.pages.push(this.collectGeneral),this.node.active=!1},e.prototype.show=function(t){var e=this;void 0===t&&(t=!0),this.pages[this.currentPageIndex].viewReset(),u.ActionTransition.pageFadeIn(this.node,t,function(){e.pages[e.currentPageIndex].mineAniPlay()}),u.ActionTransition.btnRemind(this.ui.node_remindIcon)},e.prototype.hide=function(t){void 0===t&&(t=!0),u.ActionTransition.pageFadeOut(this.node,t)},e.prototype.onBtnHomeClick=function(){_.default.effectPlay("btn_main1",!1),d.default.net.send(f.Command.GA_GOHOME,{}),a.default.emit(l.MainEvent.ENTER_MINE_MNG)},e.prototype.onBtnVipClick=function(){a.default.emit(l.MainEvent.MESSAGE_SHOW,{type:2,content:s.default.getTxt("S_9001"),autoClose:!0})},e.prototype.reViewRemind=function(t){this.ui.node_remindIcon.active=t,t&&u.ActionTransition.btnRemind(this.ui.node_remindIcon)},r([g],e)}(c.default);n.default=m,cc._RF.pop()},{"../../GameController":"GameController","../../common/ActionTransition":"ActionTransition","../../data/Enum/CommandEnum":"CommandEnum","../../data/const/EventConst":"EventConst","../../data/scene/DataMineCollect":"DataMineCollect","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../../manager/MusicMng":"MusicMng","../ui/UIBase":"UIBase","./collect/CollectGeneral":"CollectGeneral"}],MineMessageAction:[function(t,e,n){"use strict";cc._RF.push(e,"0e470T2htJF1Znp4aMhHnIr","MineMessageAction");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../manager/MusicMng"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.autoMsg=function(){r.default.effectPlay("info_talk"),this.node.runAction(cc.sequence(cc.scaleTo(.3,1).easing(cc.easeBackInOut()),cc.delayTime(2),cc.scaleTo(.3,0).easing(cc.easeBackIn())))},e.prototype.closeMsg=function(){this.node.runAction(cc.sequence(cc.delayTime(2-this.count),cc.scaleTo(.3,0).easing(cc.easeBackIn())))},e.prototype.onMsgShow=function(){r.default.effectPlay("info_talk"),this.isShowing=!0,this.node.stopAllActions(),this.node.setScale(1)},e.prototype.onMsgHide=function(){this.isShowing=!1,this.node.stopAllActions(),this.node.setScale(0)},e.prototype.onClickStart=function(){this.count=0,this.isHoldDown=!1,this.dtHoldDown=!0,this.onMsgShow()},e.prototype.onClickEnd=function(){this.isHoldDown?this.onMsgHide():this.closeMsg()},e.prototype.update=function(t){this.dtHoldDown&&(this.count+=t,this.count>2&&(this.dtHoldDown=!1,this.isHoldDown=!0))},e}(t("../../ui/UIBase").default);n.default=a,cc._RF.pop()},{"../../../manager/MusicMng":"MusicMng","../../ui/UIBase":"UIBase"}],MineMngCon:[function(t,e,n){"use strict";cc._RF.push(e,"6ed47uaRptLMIrZ6C4JFDxl","MineMngCon");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../ui/UIBase"),s=t("../../data/scene/DataMineMngCon"),c=t("./mng/MinePetSelect"),u=t("./mng/MinePartnerSelect"),l=t("./mng/MineToolBox"),h=cc._decorator.ccclass,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.preIndex=0,e.currentIndex=0,e}return o(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(s.default),this.page1=this.ui.node_page_1.addComponent(c.default),this.page2=this.ui.node_page_2.addComponent(u.default),this.page3=this.ui.node_page_3.addComponent(l.default),this.pages.push(this.page1,this.page2,this.page3),this.pageSwitch(0)},e.prototype.pageSwitch=function(t){this.preIndex=this.currentIndex,this.currentIndex=t;for(var e=0;e<this.pages.length;e++)this.pages[e].node.active=e==this.currentIndex;this.pages[this.currentIndex].reset&&this.pages[this.currentIndex].reset()},r([h],e)}(a.default);n.default=p,cc._RF.pop()},{"../../data/scene/DataMineMngCon":"DataMineMngCon","../ui/UIBase":"UIBase","./mng/MinePartnerSelect":"MinePartnerSelect","./mng/MinePetSelect":"MinePetSelect","./mng/MineToolBox":"MineToolBox"}],MineMngNav:[function(t,e,n){"use strict";cc._RF.push(e,"3ab80fqLElB9I8oFBRZmzCi","MineMngNav");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=t("../../data/const/EventConst"),c=t("../ui/UIBase"),u=cc._decorator.ccclass,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.navBtns=[],e.preIndex=0,e.currentIndex=0,e}return o(e,t),e.prototype.onUILoad=function(){this.btnsCreate()},e.prototype.onShow=function(){this.btnsBindOn()},e.prototype.onHide=function(){this.btnBindOff()},e.prototype.btnsCreate=function(){for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t];this.navBtns[t]=new h(e,t)}},e.prototype.btnsBindOn=function(){this.navBtns.forEach(function(t){t.eventBindOn()})},e.prototype.btnBindOff=function(){this.navBtns.forEach(function(t){t.eventBindOff()})},e.prototype.btnSwitch=function(t){this.preIndex=this.currentIndex,this.currentIndex=t,this.navBtns[this.preIndex].updateState(!1),this.navBtns[this.currentIndex].updateState(!0)},r([u],e)}(c.default);n.default=l;var h=function(){function t(t,e){this.color_black=new cc.Color(0,0,0,255),this.color_white=new cc.Color(255,255,255,255),this._id=0,this.node=t,this._id=e,this.node_activeBg=this.node.getChildByName("bg_active"),this.node_activeBg.opacity=0,this.node_txt=this.node.getChildByName("txt"),this.node_remindIcon=cc.find("remind/icon",this.node),this.node_remindIcon.active=!1}return t.prototype.click=function(){a.default.emit(s.MainEvent.MINE_MNG_PAGE_SWITCH,this.id)},t.prototype.eventBindOn=function(){this.node.on("touchend",this.click,this)},t.prototype.eventBindOff=function(){this.node.off("touchend",this.click,this)},t.prototype.updateState=function(t){this.activeBgShow(t),this.node_txt.color=t?this.color_black:this.color_white},t.prototype.activeBgShow=function(t){this.node_activeBg.active=t,t&&(this.node_activeBg.opacity=0,this.node_activeBg.stopAllActions(),this.node_activeBg.runAction(cc.fadeIn(.15)))},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!1,configurable:!0}),t}();cc._RF.pop()},{"../../data/const/EventConst":"EventConst","../../manager/EventMng":"EventMng","../ui/UIBase":"UIBase"}],MineMng:[function(t,e,n){"use strict";cc._RF.push(e,"45f045uJgJKmrnqXFHFo6tj","MineMng");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=t("../../manager/LangMng"),c=t("../../common/ActionTransition"),u=t("../../data/const/EventConst"),l=t("../ui/UIBase"),h=t("../../data/scene/DataMineMng"),p=t("./MineMngNav"),d=t("./MineMngCon"),f=t("../../GameController"),_=t("../../data/Enum/CommandEnum"),g=t("../../manager/MusicMng"),m=t("../../data/GameCenter"),y=cc._decorator.ccclass,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e._currentIndex=0,e}return o(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(h.default),this.tabNav=this.ui.tab_nav_holder.addComponent(p.default),this.con=this.ui.con_holder.addComponent(d.default),this.viewInit(),this.tabNav.btnSwitch(0),c.ActionTransition.pageFadeOut(this.node,!1)},e.prototype.onShow=function(){this.initEvent(u.MainEvent.MINE_MNG_PAGE_SWITCH,this.onPageSwitch),this.initEvent(u.MainEvent.MINE_REMIND,this.reViewRemind)},e.prototype.viewInit=function(){0==this.con.pages[0].slider.getSliderState()&&(this.tabNav.navBtns[2].node.active=!1)},e.prototype.show=function(t){void 0===t&&(t=!0),this.reViewRemind(),c.ActionTransition.pageFadeIn(this.node,t,function(){g.default.musicPlay("bg",!0)})},e.prototype.hide=function(t){void 0===t&&(t=!0),c.ActionTransition.pageFadeOut(this.node,t)},e.prototype.onPageSwitch=function(t){if(this._currentIndex!=t)if(this.getHasPage(t)){switch(t){case 0:f.default.net.send(_.Command.GA_SELECTPET,{});break;case 1:f.default.net.send(_.Command.GA_SELECTPARTNER,{});break;case 2:f.default.net.send(_.Command.GA_SELECTBAG,{})}g.default.effectPlay("btn_main1",!1),this.currentIndex=t,this.tabNav.btnSwitch(this.currentIndex),this.con.pageSwitch(this.currentIndex)}else a.default.emit(u.MainEvent.MESSAGE_SHOW,{type:2,content:s.default.getTxt("S_9001"),autoClose:!0})},e.prototype.reViewRemind=function(t){if(t)this.pageCheckRemind(t);else for(var e=0;e<this.tabNav.navBtns.length;e++)this.pageCheckRemind(e)},e.prototype.pageCheckRemind=function(t){switch(t){case 0:case 1:break;case 2:var e=m.default.game.checkSkinRemind();this.tabNav.navBtns[t].node_remindIcon.active=e,e&&c.ActionTransition.btnRemind(this.tabNav.navBtns[t].node_remindIcon)}},e.prototype.getHasPage=function(t){return!!this.con.pages[t]},Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){this._currentIndex=t},enumerable:!1,configurable:!0}),r([y],e)}(l.default);n.default=v,cc._RF.pop()},{"../../GameController":"GameController","../../common/ActionTransition":"ActionTransition","../../data/Enum/CommandEnum":"CommandEnum","../../data/GameCenter":"GameCenter","../../data/const/EventConst":"EventConst","../../data/scene/DataMineMng":"DataMineMng","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../../manager/MusicMng":"MusicMng","../ui/UIBase":"UIBase","./MineMngCon":"MineMngCon","./MineMngNav":"MineMngNav"}],MinePartnerIconMouseEvent:[function(t,e,n){"use strict";cc._RF.push(e,"c83adkOy0dKHY/9WO9nN/3S","MinePartnerIconMouseEvent");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../data/const/EventConst"),a=t("../../../manager/EventMng"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onMouseSet=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){a.default.emit(r.MainEvent.PARTNER_MESSAGE_CLICKSTART)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){a.default.emit(r.MainEvent.PARTNER_MESSAGE_CLICKEND)},this),this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){a.default.emit(r.MainEvent.PARTNER_MESSAGE_SHOW)},this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){a.default.emit(r.MainEvent.PARTNER_MESSAGE_HIDE)},this)},e.prototype.offMouseSet=function(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_END),this.node.off(cc.Node.EventType.MOUSE_ENTER),this.node.off(cc.Node.EventType.MOUSE_LEAVE)},e}(t("../../ui/UIBase").default);n.default=s,cc._RF.pop()},{"../../../data/const/EventConst":"EventConst","../../../manager/EventMng":"EventMng","../../ui/UIBase":"UIBase"}],MinePartnerMessage:[function(t,e,n){"use strict";cc._RF.push(e,"d2c44b9uY5FaLKGCe/Ro4SS","MinePartnerMessage");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../data/const/EventConst"),s=t("../../../data/GameCenter"),c=t("./MineMessageAction"),u=cc._decorator.ccclass,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=30,e}return o(e,t),e.prototype.refreshData=function(t,e){t.string=s.default.game.warehousePoint_gold.toString(),e.string=s.default.game.warehousePoint_silver.toString()},e.prototype.set=function(t,e){var n=this;this.initEvent(a.MainEvent.PARTNER_MESSAGE_SHOW,this.onMsgShow),this.initEvent(a.MainEvent.PARTNER_MESSAGE_HIDE,this.onMsgHide),this.initEvent(a.MainEvent.PARTNER_MESSAGE_CLICKSTART,this.onClickStart),this.initEvent(a.MainEvent.PARTNER_MESSAGE_CLICKEND,this.onClickEnd),this.interval=setInterval(function(){n.refreshData(t,e),n.isShowing||n.autoMsg()},1e3*this.time)},e.prototype.stop=function(){clearInterval(this.interval),this.node.stopAllActions(),this.onUILoad()},e.prototype.onUILoad=function(){this.node.setScale(0)},r([u],e)}(c.default);n.default=l,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","./MineMessageAction":"MineMessageAction"}],MinePartnerSelect:[function(t,e,n){"use strict";cc._RF.push(e,"7fcaetwU4JJoYylMh7oczeT","MinePartnerSelect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../data/GameCenter"),a=function(t){function e(){var e=t.call(this,1)||this;return e.setInitData(),e}return o(e,t),e.prototype.setInitData=function(){this.bodyName=r.default.game.partnerBodyName,this.floorName=r.default.game.mineFloorName},e}(t("./MineSelect").MineSelect);n.default=a,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter","./MineSelect":"MineSelect"}],MinePetIconMouseEvent:[function(t,e,n){"use strict";cc._RF.push(e,"58c4csXGING7YL8b47VD4CH","MinePetIconMouseEvent");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../data/const/EventConst"),a=t("../../../manager/EventMng"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onMouseSet=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){a.default.emit(r.MainEvent.PET_MESSAGE_CLICKSTART)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){a.default.emit(r.MainEvent.PET_MESSAGE_CLICKEND)},this),this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){a.default.emit(r.MainEvent.PET_MESSAGE_SHOW)},this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){a.default.emit(r.MainEvent.PET_MESSAGE_HIDE)},this)},e.prototype.offMouseSet=function(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_END),this.node.off(cc.Node.EventType.MOUSE_ENTER),this.node.off(cc.Node.EventType.MOUSE_LEAVE)},e}(t("../../ui/UIBase").default);n.default=s,cc._RF.pop()},{"../../../data/const/EventConst":"EventConst","../../../manager/EventMng":"EventMng","../../ui/UIBase":"UIBase"}],MinePetMessage:[function(t,e,n){"use strict";cc._RF.push(e,"06476WKLzdKWrANty6o5FPE","MinePetMessage");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../data/const/EventConst"),s=t("../../../data/GameCenter"),c=t("../../../manager/LangMng"),u=t("./MineMessageAction"),l=cc._decorator.ccclass,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=45,e}return o(e,t),e.prototype.refreshData=function(t){var e="",n=s.default.game.currentTime;n>=43200?e=c.default.getTxt("M_003"):n>=21600?e=c.default.getTxt("M_002"):n>=0&&(e=c.default.getTxt("M_001")),t.string=e},e.prototype.set=function(t){var e=this;this.initEvent(a.MainEvent.PET_MESSAGE_SHOW,this.onMsgShow),this.initEvent(a.MainEvent.PET_MESSAGE_HIDE,this.onMsgHide),this.initEvent(a.MainEvent.PET_MESSAGE_CLICKSTART,this.onClickStart),this.initEvent(a.MainEvent.PET_MESSAGE_CLICKEND,this.onClickEnd),this.interval=setInterval(function(){e.refreshData(t),e.isShowing||e.autoMsg()},1e3*this.time)},e.prototype.stop=function(){clearInterval(this.interval),this.node.stopAllActions(),this.onUILoad()},e.prototype.onUILoad=function(){this.node.setScale(0)},r([l],e)}(u.default);n.default=h,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","../../../manager/LangMng":"LangMng","./MineMessageAction":"MineMessageAction"}],MinePetSelect:[function(t,e,n){"use strict";cc._RF.push(e,"36f187Vx9tGArp2Zx7M0LOh","MinePetSelect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../data/GameCenter"),a=function(t){function e(){var e=t.call(this,0)||this;return e.setInitData(),e}return o(e,t),e.prototype.reset=function(){this.slider.updateItemAni(),this.slider.updateLevel()},e.prototype.setInitData=function(){this.bodyName=r.default.game.mineBodyName,this.floorName=r.default.game.mineFloorName},e}(t("./MineSelect").MineSelect);n.default=a,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter","./MineSelect":"MineSelect"}],MineSelectItem:[function(t,e,n){"use strict";cc._RF.push(e,"53216EY6MZCD467i9KzmUsg","MineSelectItem"),Object.defineProperty(n,"__esModule",{value:!0}),n.MineSelectItem=void 0;var i=t("../../../data/GameCenter"),o=function(){function t(t,e,n,i,o){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.id=0,this.skinID=0,this.level=0,this.size={w:666,h:600},this.floorName="empty",this.node=t,this.node_spine_box=this.node.getChildByName("spine"),this.spine_body=this.node_spine_box.getChildByName("body").getComponent(sp.Skeleton),this.spine_floor=this.node_spine_box.getChildByName("floor").getComponent(sp.Skeleton),this.id=n,this.type=e,this.level=i,o&&(o.floorName&&(this.floorName=o.floorName),o.bodyAssets&&this.setBodySpineAssets(o.bodyAssets)),this.init()}return t.prototype.init=function(){this.setSkin(),this.play("IDLE")},t.prototype.play=function(t){this.bodyPlay(t),this.floorPlay(t)},t.prototype.bodyPlay=function(t){"IDLE"==t?this.spine_body.setAnimation(0,"select_idle",!0):"ACTION"==t&&this.spine_body.setAnimation(0,"select_act",!0)},t.prototype.floorPlay=function(t){if(this.spine_floor)if("IDLE"==t)this.spine_floor.setAnimation(0,""+this.floorName,!0);else if("ACTION"==t){var e="empty"==this.floorName?this.floorName+"_act":this.floorName;this.spine_floor.setAnimation(0,e,!0)}},t.prototype.setSkin=function(t){this.type>0||this.spine_body.setSkin(i.default.game.getPetBodySkinName(t))},t.prototype.upgradeSpine=function(t,e,n){this.setLevel(t,e),this.bodyPlay(n)},t.prototype.upgradeSuccess=function(t,e){this.setLevel(t,e),console.log(t,e);var n=this.spine_body;console.log(n),n.setAnimation(0,"lv_success",!1),n.addAnimation(0,"idle",!0)},t.prototype.upgradeFail=function(){var t=this.spine_body;t.setAnimation(0,"lv_fail",!1),t.addAnimation(0,"idle",!0)},t.prototype.setLevel=function(t,e){this.level=e,this.setSkin(t)},t.prototype.setSpineNodePosition=function(t){this.node_spine_box.setPosition(t)},t.prototype.setBodySpineAssets=function(t){this.spine_body.skeletonData=t},t}();n.MineSelectItem=o,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter"}],MineSelect:[function(t,e,n){"use strict";cc._RF.push(e,"b2f2byd4L5G6Z6W+vjV+m7B","MineSelect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.MineSelect=void 0;var r=t("./MineSlider"),a=t("../../ui/UIBase"),s=t("../../../data/scene/DataMinePetSelect"),c=function(t){function e(e){var n=t.call(this)||this;return n.type=null,n.bodyName=new Map,n.skinName=[],n.floorName=[],n.type=e,n}return o(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(s.default),this.slider=new r.MineSlider(this.ui,this.type)},e.prototype.onStart=function(){this.slider.init(),this.slider.createSliderList(this.getFloorAssets(),this.getBodyAssets())},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_go,this.onBtnGoClick,this),this.slider.show(),this.slider.arrowBtnsBindOn()},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_go,this.onBtnGoClick,this),this.slider.hide(),this.slider.arrowBtnsBindOff()},e.prototype.onBtnGoClick=function(){this.slider.onBtnGoClick()},e.prototype.getBodyAssets=function(){return this.bodyName},e.prototype.getFloorAssets=function(){return this.floorName},e}(a.default);n.MineSelect=c,cc._RF.pop()},{"../../../data/scene/DataMinePetSelect":"DataMinePetSelect","../../ui/UIBase":"UIBase","./MineSlider":"MineSlider"}],MineSlider:[function(t,e,n){"use strict";cc._RF.push(e,"057ddp8kttBb6HL7VXKwnBw","MineSlider"),Object.defineProperty(n,"__esModule",{value:!0}),n.MineSlider=void 0;var i,o=t("../../../data/GameCenter"),r=t("../../../manager/LangMng"),a=t("../../../manager/AssetsMng"),s=t("../../../manager/EventMng"),c=t("./MineSelectItem"),u=t("../../../common/ActionTransition"),l=t("../../../data/const/EventConst"),h=t("../../../manager/MusicMng"),p=function(){function t(t,e,n){this.ui=null,this.items=[],this.idGetIndex=new Map,this.indexGetID=new Map,this.state=0,this.pageWidth=300,this.itemOffsetY=150,this.layoutX=-333,this.cubeSizeProp=0,this.referenceMode=!1,this.sliderPageCallBack=null,this._prePageIndex=-1,this._currentPageIndex=0,this.ui=t,this.type=e,this._currentPageIndex=0==this.type?o.default.game.mineSelectID-1:o.default.game.partnerSelectID-1,this.updateGameCenterData(),this.updateChooseTip(),n&&(n.referenceMode&&(this.referenceMode=n.referenceMode),n.sliderPageCallBack&&(this.sliderPageCallBack=n.sliderPageCallBack))}return t.prototype.init=function(){this.cubeSizeProp=this.pageWidth/this.itemOffsetY,this.updateChooseTip()},t.prototype.show=function(){this.ui.page_view.node.on("scrolling",this.onSliderScrolling,this),this.ui.page_view.node.on("page-turning",this.onPageTurning,this),this.updateChooseTip(),this.updateBtnDisplayState(),0==this.type&&this.reviewAllPetSkin()},t.prototype.hide=function(){this.ui.page_view.node.off("scrolling",this.onSliderScrolling,this),this.ui.page_view.node.off("page-turning",this.onPageTurning,this)},t.prototype.createSliderList=function(t,e){var n=this,i=this.getSliderState();if(console.log(i),0!=i){var s=a.default.getAssets("cube_item"),u=this.getListDate(),l=0;u.forEach(function(i,r){var u=n.ui.node_item_main.children[l]||cc.instantiate(s),h=r,p=i,d=p>0?t[l]:"empty",f=p>0?a.default.getAssets(n.getBodyName(e,h)+".spine"):null;n.ui.page_view.addPage(u);var _=new c.MineSelectItem(u,n.type,h,o.default.game.mineLevel.get(h),{floorName:d,bodyAssets:f});n.items.push(_),n.idGetIndex.set(h,l),n.indexGetID.set(l,h),l++}),this.layoutActive(!1),this.ui.page_view.setCurrentPageIndex(this._currentPageIndex),this.updateItemIndex(),this.onPageTurning(!1),0==this.type&&this.reviewAllPetSkin()}else{var h=this.ui.node_item_main.children[0];if(this.items[0]=new c.MineSelectItem(h,0,0),this.items[0].play("ACTION"),this.ui.label_intro_title&&(this.ui.label_intro_title.string=""),this.ui.label_intro_con){var p=0==this.type?"T_002":"T_001";this.ui.label_intro_con.string="\n"+r.default.getTxt(p)}}},t.prototype.PetSkinChange=function(){var t=this.indexGetID.get(this.currentPageIndex),e=o.default.game.getPetBodyThemeName(t),n=a.default.getAssets(e+".spine");this.items[this.currentPageIndex].setBodySpineAssets(n),this.items[this.currentPageIndex].upgradeSpine(t,o.default.game.mineLevel.get(t),"ACTION")},t.prototype.reviewAllPetSkin=function(){var t=this;if(0!=this.idGetIndex.size){var e=0;o.default.game.mineID.forEach(function(n,i){if(0!=n){var r=i,s=o.default.game.getPetBodyThemeName(r),c=e==t.currentPageIndex?"ACTION":"IDLE",u=a.default.getAssets(s+".spine");t.items[e].setBodySpineAssets(u),t.items[e].upgradeSpine(r,o.default.game.mineLevel.get(r),c),e++}})}},t.prototype.updateCurrentPage=function(){this._prePageIndex=this._currentPageIndex,this._currentPageIndex=this.ui.page_view.getCurrentPageIndex(),this.updateGameCenterData()},t.prototype.updateChooseTip=function(){if(0==this.type?o.default.game.hasPartner():o.default.game.hasMine()){var t,e=0==this.type?o.default.game.partnerSelectID:o.default.game.mineSelectID,n=0==this.type?o.default.cfgPartner[e]:o.default.cfgMine[e],i=n.name,a=0==this.type?o.default.game.partnerSelectID:o.default.game.mineSelectSkin.get(e);t=1==this.type&&-1!=a?n.bgColor.get(a):n.bgColor.get(e),this.ui.sprite_choose_tip_img.spriteFrame=this.getChooseTipImg(),this.ui.node_choose_tip_img.active=!0,this.ui.node_choose_state.active=!0,this.ui.label_choose_tip_title.string=i,this.ui.node_choose_tip_bg.color=new cc.Color(t.r,t.g,t.b),this.ui.node_choose_tip_bg.opacity=255}else this.ui.node_choose_tip_img.active=!1,this.ui.node_choose_state.active=!1,this.ui.label_choose_tip_title.string=""+r.default.getTxt("T_005"),this.ui.node_choose_tip_bg.color=new cc.Color(0,0,0),this.ui.node_choose_tip_bg.opacity=110},t.prototype.getChooseTipImg=function(){var t=null;switch(this.type){case 0:t=o.default.getCurrentPartnerChooseIcon();break;case 1:t=o.default.getCurrentPetChooseIcon()}return t},t.prototype.updateItemIndex=function(){for(var t=0;t<this.items.length;t++)this.items[t].node.zIndex=this.items.length-t},t.prototype.updateItemSpinePos=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t],n=(t-this._currentPageIndex)*this.itemOffsetY;e.setSpineNodePosition(new cc.Vec2(0,n))}},t.prototype.updateItemAni=function(){this._prePageIndex>=0&&this.items[this._prePageIndex]&&this.items[this._prePageIndex].play("IDLE"),this.items[this._currentPageIndex]&&this.items[this._currentPageIndex].play("ACTION")},t.prototype.updateItemIntro=function(){var t=this;if(this.ui.node_intro_txt_group){var e=this.getCfgData()[this.items[this._currentPageIndex].id];this.ui.label_intro_title.string!=e.name&&(this.ui.node_intro_txt_group.stopAllActions(),this.ui.node_intro_txt_group.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){if(null==e.name?t.ui.label_intro_title.string="":t.ui.label_intro_title.string=e.name,""==e.intro){var n=0==t.type?r.default.getTxt("T_115"):r.default.getTxt("T_116");t.ui.label_intro_con.node.y=0,t.resetCon(n,cc.Label.HorizontalAlign.CENTER,cc.Label.VerticalAlign.CENTER,.5,0)}else t.resetCon(e.intro,cc.Label.HorizontalAlign.LEFT,cc.Label.VerticalAlign.TOP,1,30);0==t.type&&0!=o.default.game.mineList.get(t.currentPageIndex+1)&&(t.ui.label_intro_title.string+=" ("+r.default.getTxt("T_006")+t.getLevel()+")")}),cc.delayTime(.1),cc.fadeIn(.15).easing(cc.easeSineOut()))))}},t.prototype.updateLevel=function(){var t=this.getCfgData();if(this.items[this._currentPageIndex]){var e=t[this.items[this._currentPageIndex].id];null==e.name?this.ui.label_intro_title.string="":this.ui.label_intro_title.string=e.name,0==this.type&&0!=o.default.game.mineList.get(this.currentPageIndex+1)&&(this.ui.label_intro_title.string+=" ("+r.default.getTxt("T_006")+this.getLevel()+")")}},t.prototype.updateGameCenterData=function(){this.referenceMode||(0==this.type?o.default.game.mineSelectID=this._currentPageIndex+1:1==this.type&&(o.default.game.partnerSelectID=this._currentPageIndex+1))},t.prototype.getCfgData=function(){var t=null;switch(this.type){case 0:t=o.default.cfgMine;break;case 1:t=o.default.cfgPartner}return t},t.prototype.onPageTurning=function(t){void 0===t&&(t=!0),this.updateCurrentPage(),this.updateItemAni(),this.updateItemSpinePos(),this.updateItemIntro(),this.updateSelect_tip(),this.updateBtnDisplayState(),t&&h.default.effectPlay("btn_move"),this.sliderPageCallBack&&this.sliderPageCallBack()},t.prototype.updateSelect_tip=function(){var t=this.getCfgData()[this.items[this._currentPageIndex].id];this.ui.label_select_tip.string!=t.name&&(null==t.name?this.ui.label_select_tip.string="":0==this.type&&this.ui.node.name==i.con3?this.ui.label_select_tip.string=t.name:this.ui.label_select_tip.string="")},t.prototype.updateBtnDisplayState=function(){o.default.game.canGo?this.ui.node_btn_go_active&&(this.ui.node_btn_go_active.active=!0,this.ui.node_btn_go_normal.active=!1):this.ui.node_btn_go_active&&(this.ui.node_btn_go_active.active=!1,this.ui.node_btn_go_normal.active=!0)},t.prototype.updateSliderPage=function(t){var e="arrow_right"==t.currentTarget.name?this._currentPageIndex+1:this._currentPageIndex-1;this.ui.page_view.scrollToPage(e,.3)},t.prototype.getBodyName=function(t,e){var n=0==this.type?o.default.game.mineSelectSkin.get(e):e;return t.get(n)},t.prototype.getSliderState=function(){var t=this;return this.getListDate().forEach(function(e){1==e&&(t.state=1)}),this.state},t.prototype.getListDate=function(){var t=null;switch(this.type){case 0:t=o.default.game.mineList;break;case 1:t=o.default.game.partnerList}return t},t.prototype.layoutActive=function(t){void 0===t&&(t=!0),this.ui.layout.updateLayout(),this.ui.layout.enabled=t},t.prototype.arrowBtnsBindOn=function(){this.ui.btn_slider_arrow_left.on("touchend",this.onArrowLeftClick,this),this.ui.btn_slider_arrow_right.on("touchend",this.onArrowRightClick,this)},t.prototype.arrowBtnsBindOff=function(){this.ui.btn_slider_arrow_left.off("touchend",this.onArrowLeftClick,this),this.ui.btn_slider_arrow_right.off("touchend",this.onArrowRightClick,this)},t.prototype.onSliderScrolling=function(){for(var t=this.ui.layout.node.getPosition(),e=0;e<this.items.length;e++){var n=(Math.abs(t.x)-Math.abs(this.layoutX)-e*this.pageWidth)/this.cubeSizeProp;this.items[e].setSpineNodePosition(new cc.Vec2(0,-n))}},t.prototype.onArrowLeftClick=function(t){this.updateSliderPage(t)},t.prototype.onArrowRightClick=function(t){this.updateSliderPage(t)},t.prototype.onBtnGoClick=function(){if(!o.default.game.canGo){var t=null;return h.default.effectPlay("info_null"),this.ui.node.name==i.con1&&(0==o.default.game.mineList.get(this.currentPageIndex+1)?t=r.default.getTxt("T_003"):o.default.game.hasPartner()||(t=r.default.getTxt("T_004"))),this.ui.node.name==i.con2&&(0==o.default.game.partnerList.get(this.currentPageIndex+1)?t=r.default.getTxt("T_004"):o.default.game.hasMine()||(t=r.default.getTxt("T_003"))),void s.default.emit(l.MainEvent.MESSAGE_SHOW,{type:2,content:r.default.getTxt(""+t),autoClose:!0})}h.default.effectPlay("btn_go"),u.ActionTransition.btnBounce(this.ui.btn_go,function(){s.default.emit(l.MainEvent.MINE_CHANGE_REQ)})},t.prototype.resetCon=function(t,e,n,i,o){this.ui.label_intro_con.string=t,this.ui.label_intro_con.horizontalAlign=e,this.ui.label_intro_con.verticalAlign=n,this.ui.label_intro_con.node.anchorY=i,this.ui.label_intro_con.node.y=o},t.prototype.getLevel=function(){var t=o.default.game.mineID.get(this.currentPageIndex+1);return o.default.game.mineLevel.get(t)},Object.defineProperty(t.prototype,"prePageIndex",{get:function(){return this._prePageIndex},set:function(t){this._prePageIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(t){this._currentPageIndex=t},enumerable:!1,configurable:!0}),t}();n.MineSlider=p,function(t){t.con1="con_1",t.con2="con_2",t.con3="con_3"}(i||(i={})),cc._RF.pop()},{"../../../common/ActionTransition":"ActionTransition","../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","../../../manager/AssetsMng":"AssetsMng","../../../manager/EventMng":"EventMng","../../../manager/LangMng":"LangMng","../../../manager/MusicMng":"MusicMng","./MineSelectItem":"MineSelectItem"}],MineToolBox:[function(t,e,n){"use strict";cc._RF.push(e,"70676VGeHRDhJygPwEOKUux","MineToolBox");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../data/GameCenter"),s=t("../../../manager/EventMng"),c=t("../../../manager/LangMng"),u=t("./MineSlider"),l=t("./ToolComponent"),h=t("../../../common/ActionTransition"),p=t("../../../data/const/EventConst"),d=t("../../ui/UIBase"),f=t("../../../data/scene/DataMineToolBox"),_=t("../../../manager/MusicMng"),g=cc._decorator.ccclass,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlBts=[],e.introCon=[],e.btnCanClick=!1,e.currentToolBtnIndex=-1,e}return o(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(f.default),this.mineSliderCreate(),this.toolBtnsCreate(),this.toolIntroConCreate()},e.prototype.onStart=function(){this.slider.init(),this.slider.createSliderList(a.default.game.mineFloorName,a.default.game.mineBodyName),this.viewInit()},e.prototype.onShow=function(){this.initEvent(p.MainEvent.PET_UPGRADE_CHANGE,this.onPetUpgradeChange),this.initEvent(p.MainEvent.CON3_PET_SKIN_CHANGE,this.onPetSkinChange),this.initEvent(p.MainEvent.MESSAGE_SHOW,this.onMessageShow),this.initEvent(p.MainEvent.BAG_REMIND,this.reViewRemind),this.slider.show(),this.slider.arrowBtnsBindOn(),this.viewReset()},e.prototype.onHide=function(){this.checkRegisterEvent(this.ui.btn_confirm),this.slider.hide(),this.slider.arrowBtnsBindOff(),this.toolBtnsBindOff()},e.prototype.viewInit=function(){this.controlBts[0].setCount(a.default.game.canCount),this.controlBts[0].setTitleTxt(c.default.getTxt("T_100")),this.controlBts[1].setTitleTxt(c.default.getTxt("T_110")),this.controlBts[2].setTitleTxt(c.default.getTxt("T_111"))},e.prototype.viewReset=function(){this.btnCanClick=!1,this.msgTipShow(c.default.getTxt("T_008")),this.toolIntroConHide(),this.ui.node_confirm_active.active=!1,this.stateBoxHide(),0!=a.default.game.mineList.get(this.slider.currentPageIndex+1)?(this.reViewRemind(),this.toolBtnsBindOn(),this.toolBtnSwitch(0),this.levelBarUpdate()):(this.currentToolBtnIndex=-1,this.btnCanClick=!1,this.msgTipShow(c.default.getTxt("T_008")))},e.prototype.mineSliderCreate=function(){this.slider=new u.MineSlider(this.ui,0,{referenceMode:!0,sliderPageCallBack:this.onSliderPageCallBack.bind(this)})},e.prototype.itemCheck=function(t){void 0===t&&(t=!0);var e=!1;return this.currentToolBtnIndex<0?e:(0==a.default.game.mineList.get(this.slider.currentPageIndex+1)?(this.msgTipShow(c.default.getTxt("T_009")),this.toolIntroConHide()):(this.msgTipHide(),this.toolIntroConUpdate(t),e=!0),e)},e.prototype.itemDialogShow=function(t){var e=this;this.ui.node_pet_dialog_holder.active=!0,this.ui.label_pet_dialog_txt.string=t,this.ui.node_pet_dialog_holder.opacity=255,this.ui.node_pet_dialog_holder.stopAllActions(),this.ui.node_pet_dialog_holder.runAction(cc.sequence(cc.delayTime(3),cc.fadeOut(.2),cc.callFunc(function(){e.ui.node_pet_dialog_holder.active=!1})))},e.prototype.toolBtnsCreate=function(){for(var t=0;t<this.ui.node_props_holder.children.length;t++){var e=this.ui.node_props_holder.children[t];this.controlBts[t]=new l.ToolBtn(e,t,this.onToolBtnClick.bind(this))}},e.prototype.toolBtnsUpdate=function(){this.controlBts[0].setCount(a.default.game.canCount)},e.prototype.toolBtnsBindOn=function(){for(var t=0;t<this.controlBts.length;t++)this.controlBts[t].bindOn();this.controlBts[1].bindOff()},e.prototype.toolBtnsBindOff=function(){for(var t=0;t<this.controlBts.length;t++)this.controlBts[t].bindOff(),this.controlBts[t].active(!1)},e.prototype.toolBtnSwitch=function(t){this.currentToolBtnIndex>=0&&this.controlBts[this.currentToolBtnIndex].active(!1),this.currentToolBtnIndex=t,this.controlBts[this.currentToolBtnIndex].active(1!=t),this.btnCanClick=this.itemCheck()},e.prototype.toolIntroConCreate=function(){this.introCon[0]=new l.ToolIntroCon(this.ui.node_intro_con_1,0,this.canIntroUpdate.bind(this)),this.introCon[1]=new l.ToolIntroCon(this.ui.node_intro_con_2,0,this.canIntroUpdate.bind(this)),this.introCon[2]=new l.ToolIntroCon(this.ui.node_intro_con_3,0,this.canIntroUpdate.bind(this))},e.prototype.toolIntroConHide=function(){for(var t=0;t<this.introCon.length;t++)this.introCon[t].hide()},e.prototype.toolIntroConUpdate=function(t){var e=this,n=this.getLevel()+1;switch(this.checkRegisterEvent(this.ui.btn_confirm),this.toolIntroConHide(),this.introCon[this.currentToolBtnIndex].show(),console.log("\u4e0b\u4e00\u500b\u7b49\u7d1a",n),this.currentToolBtnIndex){case 0:if(n>=10)return void this.checkRegisterEvent(this.ui.btn_confirm);this.btnConfirmShow(),this.onRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this);break;case 1:this.btnConfirmHide(),this.decIntroUpdate();break;case 2:this.btnConfirmShow(),this.skinIntroUpdate(),this.onRegisterEvent(this.ui.btn_confirm,function(){_.default.effectPlay("btn_main2"),t&&s.default.emit(p.MainEvent.OPEN_SKIN_POP_REQ,{id:e.slider.currentPageIndex+1})},this)}},e.prototype.msgTipShow=function(t){this.ui.label_msg_tip.string=t;var e=this.ui.label_msg_tip.node;e.active=!0,e.opacity=0,e.stopAllActions(),e.runAction(cc.fadeIn(.1))},e.prototype.msgTipHide=function(){var t=this.ui.label_msg_tip.node;t.active&&(t.stopAllActions(),t.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.active=!1}))))},e.prototype.canIntroUpdate=function(){if(this.ui.node_confirm_active.active=!1,this.ui.node_intro_con_1.active){var t=this.getLevel()+1;if(t>=10)return this.introCon[0].hide(),void this.msgTipShow(c.default.getTxt("T_107"));var e=a.default.game.levelConfig.silver[t-2],n=a.default.game.levelConfig.can[t-2],i=this.introCon[this.currentToolBtnIndex].node,o=i.getChildByName("g_1").getChildByName("count").getComponent(cc.Label),r=i.getChildByName("g_2").getChildByName("count").getComponent(cc.Label),s=i.getChildByName("g_2").getChildByName("count_tip").getComponent(cc.Label),u=i.getChildByName("g_3").getChildByName("txt_1").getComponent(cc.RichText);o.string=""+e,r.string="x"+n,s.string="("+a.default.game.canCount+"/"+n+")",u.string=c.default.getTxt("T_103")+" "+t+"\n\r"+c.default.getTxt("T_104")+" <color = #ffc600>"+a.default.game.levelConfig.rate[t-2]+"%</c>",this.ui.lable_confirm_active.string=c.default.getTxt("T_007")}this.ui.node_intro_con_3.active&&(this.ui.lable_confirm_active.string=c.default.getTxt("T_010")),this.ui.node_confirm_active.active=!0},e.prototype.decIntroUpdate=function(){a.default.game.mineSelectDeco.has(this.slider.currentPageIndex)||(this.ui.node_intro_con_2.active=!1,this.msgTipShow(c.default.getTxt("T_112")))},e.prototype.skinIntroUpdate=function(){a.default.game.mineSelectSkin.has(this.slider.indexGetID.get(this.slider.currentPageIndex))||(this.ui.node_intro_con_3.active=!1,this.msgTipShow(c.default.getTxt("T_113")))},e.prototype.levelBarShow=function(){this.ui.node_level_holder.active=!0},e.prototype.levelBarHide=function(){this.ui.node_level_holder.active=!1},e.prototype.levelBarUpdate=function(){this.ui.label_level_num.string="LV."+this.getLevel()},e.prototype.onToolBtnClick=function(t){this.introCon[t]?(_.default.effectPlay("btn_main2"),this.toolBtnSwitch(t)):s.default.emit(p.MainEvent.MESSAGE_SHOW,{type:2,content:c.default.getTxt("S_9001"),autoClose:!0})},e.prototype.onBtnConfirmClick=function(){var t=this;this.unRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this),h.ActionTransition.btnBounce(this.ui.btn_confirm,function(){t.btnCanClick?s.default.emit(p.MainEvent.PET_UPGRADE_REQ,{id:t.slider.currentPageIndex}):t.onRegisterEvent(t.ui.btn_confirm,t.onBtnConfirmClick,t)})},e.prototype.onSliderPageCallBack=function(){0==a.default.game.mineList.get(this.slider.currentPageIndex+1)?(this.viewReset(),this.toolBtnsBindOff(),this.levelBarHide(),this.checkRegisterEvent(this.ui.btn_confirm)):(this.toolBtnsBindOn(),this.levelBarShow(),this.levelBarUpdate())},e.prototype.onPetUpgradeChange=function(t){this.checkRegisterEvent(this.ui.btn_confirm),this.onRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this),this.toolBtnsUpdate(),this.levelBarUpdate(),this.canIntroUpdate();var e=a.default.game.mineLevel.get(t.id);0==t.state?(console.log(a.default.game.mineSelectSkin),_.default.effectPlay("level_up"),this.slider.items[this.currentToolBtnIndex].upgradeSuccess(t.id,e),this.itemDialogShow(c.default.getTxt("T_105")),e>=9&&this.checkRegisterEvent(this.ui.btn_confirm)):(_.default.effectPlay("level_no"),this.slider.items[this.currentToolBtnIndex].upgradeFail(),this.itemDialogShow(c.default.getTxt("T_106")))},e.prototype.onPetSkinChange=function(){this.slider.PetSkinChange()},e.prototype.checkRegisterEvent=function(t){var e=this.getRegisterEventFuntion(t.name);e&&this.unRegisterEvent(t,e,this)},e.prototype.onMessageShow=function(){this.onRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this)},e.prototype.stateBoxShow=function(){this.ui.node_state_tip.active=!0},e.prototype.stateBoxHide=function(){this.ui.node_state_tip.active=!1},e.prototype.btnConfirmShow=function(){this.ui.btn_confirm.active=!0},e.prototype.btnConfirmHide=function(){this.ui.btn_confirm.active=!1},e.prototype.getLevel=function(){var t=a.default.game.mineID.get(this.slider.currentPageIndex+1);return a.default.game.mineLevel.get(t)},e.prototype.reViewRemind=function(t){if(t)this.pageCheckRemind(t);else for(var e=0;e<this.controlBts.length;e++)this.pageCheckRemind(e)},e.prototype.pageCheckRemind=function(t){switch(t){case 0:case 1:break;case 2:var e=a.default.game.checkSkinRemind();this.controlBts[t].node_remindIcon.active=e,e&&h.ActionTransition.btnRemind(this.controlBts[t].node_remindIcon)}},r([g],e)}(d.default);n.default=m,cc._RF.pop()},{"../../../common/ActionTransition":"ActionTransition","../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","../../../data/scene/DataMineToolBox":"DataMineToolBox","../../../manager/EventMng":"EventMng","../../../manager/LangMng":"LangMng","../../../manager/MusicMng":"MusicMng","../../ui/UIBase":"UIBase","./MineSlider":"MineSlider","./ToolComponent":"ToolComponent"}],MusicMng:[function(t,e,n){"use strict";cc._RF.push(e,"5b610IWD/FEgp5Yjbypp1Sk","MusicMng"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../data/GameCenter"),o=function(){function t(){this._data={},this._musicID=null}return t.prototype.init=function(){this._volMusic=i.default.system.music_vol,this._volEffect=i.default.system.effect_vol,this.musicVolSet(),this.effectVolSet()},t.prototype.preLoad=function(t){this.audioLoad("music/preload",t)},t.prototype.load=function(t){this.audioLoad("music/main",t)},t.prototype.audioLoad=function(t,e){var n=this;cc.loader.loadResDir(t,cc.AudioClip,function(t,i){for(var o in i)n._data[i[o]._name]=i[o];e&&e()})},t.prototype.switchMusic=function(){return i.default.system.is_open_music=!i.default.system.is_open_music,this.musicVolSet(),i.default.system.is_open_music},t.prototype.musicPlay=function(t,e){return void 0===e&&(e=!0),this.musicStop(),this._musicID=cc.audioEngine.playMusic(this._data[t],e),this._musicID},t.prototype.musicStop=function(){cc.audioEngine.stopMusic()},t.prototype.musicVolSet=function(t){t&&(this._volMusic=t),cc.audioEngine.setMusicVolume(this.getMusicState()?this._volMusic:0)},t.prototype.getMusicState=function(){return i.default.system.is_open_music},t.prototype.switchEffect=function(){return i.default.system.is_open_sound=!i.default.system.is_open_sound,this.effectVolSet(),i.default.system.is_open_sound},t.prototype.effectPlay=function(t,e){if(void 0===e&&(e=!1),i.default.system.is_open_sound)return cc.audioEngine.playEffect(this._data[t],e)},t.prototype.effectStop=function(t){cc.audioEngine.stop(t)},t.prototype.effectVolSet=function(){cc.audioEngine.setEffectsVolume(i.default.system.is_open_sound?this._volEffect:0)},t.prototype.getEffectState=function(){return i.default.system.is_open_sound},t.prototype.btnClick=function(){this.effectPlay("button_01")},t}();n.default=new o,cc._RF.pop()},{"../data/GameCenter":"GameCenter"}],NTD:[function(t,e){"use strict";cc._RF.push(e,"b1a0dmpxSdCiqqmWG39U2Fb","NTD"),e.exports={S_9100:"\u9023\u7dda\u932f\u8aa4!",S_9001:"\u5c1a\u672a\u958b\u653e!",S_9102:"\u64cd\u4f5c\u5931\u6557!",S_9103:"\u8cc7\u6599\u4e0d\u5b8c\u5168\n\u8acb\u91cd\u65b0\u6574\u7406\u7db2\u9801\u518d\u6b21\u9032\u5165",S_9104:"\u7372\u53d6\u8cc7\u6599\u932f\u8aa4\n\u8acb\u806f\u7d61\u5ba2\u670d\u4eba\u54e1",S_9105:"\u76ee\u524d\u7121\u6cd5\u9818\u53d6\n\u8acb\u5728\u7b49\u7b49",T_001:"\u60a8\u9084\u672a\u6709\u5c0f\u5925\u4f34\u5594\n\u5feb\u53bb\u5f97\u5230\u4e00\u96bb\u4f60\u7684\u5c0f\u5925\u4f34\u5427!",T_002:"\u60a8\u9084\u672a\u6709\u7926\u6a5f\u5594\n\u5feb\u53bb\u5f97\u5230\u4e00\u96bb\u4f60\u7684\u7926\u6a5f\u5427!",T_003:"\u60a8\u9084\u672a\u9078\u5b9a\u7926\u5bf5\u5594",T_004:"\u60a8\u9084\u672a\u9078\u5b9a\u5c0f\u5925\u4f34\u5594",T_005:"\u672a\u9078\u64c7",T_006:"LV.",T_007:"\u4f7f\u7528!",T_008:"\u8981\u9078\u54ea\u4e00\u500b\u5462?",T_009:"\u60a8\u9084\u672a\u96cd\u6709\u6b64\u7926\u6a5f\u5594!",T_010:"\u9020\u578b\u6536\u85cf\u7bb1",T_011:"\u8acb\u9078\u64c7",T_100:"\u795e\u5947\u7f50\u982d",T_101:"--",T_102:"--",T_103:"\u5347\u7d1a\u81f3\u7b49\u7d1a",T_104:"\u6210\u529f\u7387",T_105:"\u5629!!!\u6211\u89ba\u5f97\u5168\u8eab\n\r\u5145\u6eff\u529b\u91cf~",T_106:"\u6211\u76f8\u4fe1\u4e0b\u6b21\u4e00\u5b9a\n\r\u6703\u6210\u529f\u7684!!",T_107:"\u7b49\u7d1a\u5df2\u9054\u4e0a\u9650!!",T_108:"\u60a8\u7684\u4e3b\u9322\u5305\u9280\u5e63\u4e0d\u8db3\u5594~",T_109:"\u60a8\u7684\u7f50\u982d\u4e0d\u8db3\u5594~",T_110:"\u98fe\u54c1",T_111:"\u9020\u578b",T_112:"\u4e0d\u986f\u793a\u98fe\u54c1",T_113:"\u4e0d\u986f\u793a\u9020\u578b",T_114:"\u7a7a",T_115:"\u7b49\u5f85\u7926\u5bf5\u65b0\u6210\u54e1\u52a0\u5165\u5537",T_116:"\u7b49\u5f85\u5c0f\u5925\u4f34\u65b0\u6210\u54e1\u52a0\u5165\u5537",I_001:"\u7926\u6a5f\u529f\u80fd",I_002:"\u7926\u6a5f\u6bcf\u5c0f\u6642\u90fd\u6703\u7d66\u4e88\u73a9\u5bb6\u4e00\u5b9a\u6578\u91cf\u7684\u9322\u5e63\uff0c\u6bcf\u904e\u516d\u5c0f\u6642\u53ef\u9818\u4e00\u6b21\uff0c\u5341\u4e8c\u5c0f\u6642\u5373\u9054\u4e0a\u9650\u4e0d\u518d\u7d2f\u7a4d\u3002!",I_003:"\u7926\u6a5f\u7b49\u7d1a",I_004:"\u7926\u6a5f\u6703\u96a8\u8457\u7b49\u7d1a\u7684\u6210\u9577\u800c\u589e\u52a0\u6240\u5f97\u7684\u734e\u52f5\u3002\u6d88\u8017\u7f50\u982d\u53ca\u9280\u5e63\u6709\u4e00\u5b9a\u6a5f\u7387\u53ef\u4ee5\u63d0\u5347\u7926\u6a5f\u7b49\u7d1a\u3002",M_001:"\u7d2f\u8a086:00:00\u5c31\u53ef\u4ee5\u9818\u7926\u56c9\uff01",M_002:"\u5629\uff01\u5df2\u7d93\u53ef\u4ee5\u9818\u53d6\u56c9\uff01",M_003:"\u7d2f\u8a08\u4e0a\u9650\u6700\u591a12\u5c0f\u6642\uff0c\u8d95\u5feb\u9818\u53d6\u5427\uff01"},cc._RF.pop()},{}],ParticleCoin:[function(t,e,n){"use strict";cc._RF.push(e,"b589ddNgZxFCbiwnKmoPLRW","ParticleCoin");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../ui/UIBase"),s=t("../../../manager/AssetsMng"),c=cc._decorator.ccclass,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerPos=cc.v2(0,0),e.sprayRange=270,e.sprayRangeMin=60,e.scaleVal=.6,e}return o(e,t),e.prototype.initEvent=function(){},e.prototype.onUILoad=function(){this.node_coin_container=this.node.getChildByName("container"),this.node_icon_gold=this.node.getChildByName("icon_gold"),this.node_icon_sliver=this.node.getChildByName("icon_sliver"),this.goldCoinPrefab=s.default.getAssets("coin_gold_prefab"),this.sliverCoinPrefab=s.default.getAssets("coin_sliver_prefab")},e.prototype.createCoins=function(t,e,n,i){this.centerPos=t,this.createCoinNode(1,e),this.createCoinNode(0,n);var o=setTimeout(function(){i&&i(),clearTimeout(o)},1e3)},e.prototype.createCoinNode=function(t,e){for(var n=0;n<e;n++){var i=0==t?this.sliverCoinPrefab:this.goldCoinPrefab,o=cc.instantiate(i),r=this.getExplosionTargetPos();o.angle=360*Math.random(),o.setPosition(this.centerPos),o.setScale(this.scaleVal),this.node_coin_container.addChild(o),this.explosionAniPlay(o,r,t)}},e.prototype.coinIconJump=function(t){t.runAction(cc.sequence(cc.scaleTo(.08,1.3).easing(cc.easeSineOut()),cc.scaleTo(.06,1)))},e.prototype.explosionAniPlay=function(t,e,n){var i=this,o=0==n?this.node_icon_sliver.position:this.node_icon_gold.position,r=t.children[0].getComponent(cc.Animation),a=e.x+t.x,s=e.y+t.y;r.play(),t.runAction(cc.sequence(cc.moveTo(.3,a,s).easing(cc.easeCubicActionOut()),cc.delayTime(Math.random()),cc.callFunc(function(){r.stop()}),cc.moveTo(.8,o.x,o.y).easing(cc.easeInOut(3)),cc.callFunc(function(){t.destroy(),i.coinIconJump(0==n?i.node_icon_sliver:i.node_icon_gold)})))},e.prototype.getExplosionTargetPos=function(){var t=Math.random()*Math.PI*2,e=Math.random()*this.sprayRange+this.sprayRangeMin,n=e*Math.cos(t),i=e*Math.sin(t);return cc.v2(n,i)},r([c],e)}(a.default);n.default=u,cc._RF.pop()},{"../../../manager/AssetsMng":"AssetsMng","../../ui/UIBase":"UIBase"}],PropSelectPop:[function(t,e,n){"use strict";cc._RF.push(e,"d4a94TBtqJGB7bW3Gnm6qbA","PropSelectPop");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../manager/LangMng"),a=t("../../ui/UIBase"),s=t("../../../data/const/ViewZorder"),c=t("./ConInfo"),u=t("../../../manager/MusicMng"),l=t("../../../common/ActionTransition"),h=function(){function t(t,e,n){this.id=-1,this.clickCallBack=null,this.canClick=!0,this.node=t,this.id=e,n&&n.clickCallBack&&(this.clickCallBack=n.clickCallBack),this.node_normal=this.node.getChildByName("normal"),this.node_active=this.node.getChildByName("active"),this.label_txt=this.node.getChildByName("txt").getComponent(cc.Label),this.node_normal_bg=this.node_normal.getChildByName("bg"),this.node_remindIcon=cc.find("remind/icon",this.node),this.sprite_normal_icon=this.node_normal.getChildByName("icon").getComponent(cc.Sprite),this.init()}return t.prototype.init=function(){this.setPieceNum(""),this.node_remindIcon.active=!1},t.prototype.show=function(){this.node_active.active=!0},t.prototype.hide=function(){this.node_active.active=!1},t.prototype.setPieceNum=function(){this.label_txt.string=""},t.prototype.clickBindOn=function(){this.node.on("touchend",this.onClick,this)},t.prototype.clickBindOff=function(){this.node.off("touchend",this.onClick,this)},t.prototype.onClick=function(){this.clickCallBack&&this.canClick&&this.clickCallBack(this.id)},t.prototype.remove=function(){this.node_normal_bg.opacity=76.5;var t=this.label_txt;t.string=r.default.getTxt("T_114"),t.node.setPosition(0,0),t.node.color=new cc.Color(170,170,170),t.fontSize=30,this.sprite_normal_icon&&(this.sprite_normal_icon.node.active=!1),this.canClick=!1},t.prototype.updateData=function(){this.canClick=!0},t.prototype.updateImg=function(t){this.sprite_normal_icon.node.active=!0,this.sprite_normal_icon.spriteFrame=t,this.node_normal_bg.opacity=255},t.prototype.updateRemind=function(t,e){t&&!e?(this.node_remindIcon.active=!0,l.ActionTransition.btnRemind(this.node_remindIcon)):this.node_remindIcon.active&&(this.node_remindIcon.active=!1)},t.prototype.closeRemind=function(){this.node_remindIcon.active=!1},t}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentIndex=-1,e.currentSkinUsed=-1,e.IdGetIndex=new Map,e.indexGetId=new Map,e.ctrlBtns=[],e.mineLevel=1,e.mineID=-1,e.mineSkinID=-1,e.langTxtData={noDisplay:""},e.btnIconImg=null,e.modelViewImg=null,e}return o(e,t),e.prototype.onUILoad=function(){this.node_main=this.node.getChildByName("main"),this.node_view_holder=this.node_main.getChildByName("view_holder"),this.node_view_con=this.node_view_holder.getChildByName("con"),this.conInfo=cc.find("con",this.node_view_holder).addComponent(c.default),this.no_txt=this.node_view_holder.getChildByName("no_txt").getComponent(cc.Label),this.node_btns_holder=this.node_main.getChildByName("btns_holder"),this.node_btn_con=this.node_btns_holder.getChildByName("content"),this.node_btn_temp=this.node_btns_holder.getChildByName("btn_temp"),this.btn_close=this.node_main.getChildByName("btn_close"),this.viewInit(),this.hide()},e.prototype.show=function(t){this.node.active=!0,this.updataMine(t),this.btnsInfoUpdate(t);var e=this.IdGetIndex.get(this.mineSkinID);console.log(e),this.changeCtrlBtn(e,this.getSkinOwn().get(this.indexGetId.get(e))),this.changeCon(e),this.onRegisterEvent(this.btn_close,this.onBtnClose,this)},e.prototype.hide=function(t){void 0===t&&(t=!1),this.node.active=!1,this.unRegisterEvent(this.btn_close,this.onBtnClose,this)},e.prototype.onBtnClose=function(){u.default.effectPlay("btn_close"),this.hide(!0)},e.prototype.changeCon=function(t){this.mineSkinID=this.indexGetId.get(t),this.noUseHide(),this.previewShow()},e.prototype.changeCtrlBtn=function(t,e){this.currentIndex=t,e&&(this.currentSkinUsed>=0&&this.ctrlBtns[this.currentSkinUsed].hide(),this.ctrlBtns[t].show(),this.ctrlBtns[t].closeRemind(),this.writeRemind(this.indexGetId.get(t)),this.currentSkinUsed=t)},e.prototype.viewInit=function(){this.setOrder(),this.setNoUseTxt(),this.previewHide(),this.btnsCreate(),this.btnsClickOn(),this.conInfo.setRareTitle("\u7a00\u6709\u5ea6")},e.prototype.previewShow=function(){this.node_view_con.active=!0,this.previewUpdate()},e.prototype.previewHide=function(){this.node_view_con.active=!1},e.prototype.noUseShow=function(){this.no_txt.node.active=!0},e.prototype.noUseHide=function(){this.no_txt.node.active=!1},e.prototype.previewUpdate=function(){this.changeSkin();var t=this.getListData();this.conInfo.setRare(t[this.currentIndex].rarity);var e=this.getcfgData();this.conInfo.setTitle(e[this.mineID].skinName.get(this.mineSkinID)),this.conInfo.setIntro(e[this.mineID].skinIntro.get(this.mineSkinID))},e.prototype.btnsCreate=function(){for(var t=0;t<8;t++){var e=cc.instantiate(this.node_btn_temp);this.node_btn_con.addChild(e,cc.macro.MAX_ZINDEX,"btn");var n=new h(e,t,{clickCallBack:this.btnOnClick.bind(this)});this.ctrlBtns.push(n)}this.node_btn_temp.active=!1},e.prototype.btnsInfoUpdate=function(){var t=this.getListData();this.IdGetIndex.clear(),this.indexGetId.clear();for(var e=0;e<this.ctrlBtns.length;e++)if(t[e]){var n=t[e].id;this.IdGetIndex.set(n,e),this.indexGetId.set(e,n);var i=this.getSkinOwn().get(n)?this.btnIconImg.a.get(n):this.btnIconImg.n.get(n);this.ctrlBtns[e].updateImg(i),this.ctrlBtns[e].updateRemind(this.getSkinOwn().get(n),this.getSkinUsed().get(n)),this.ctrlBtns[e].updateData(t[e])}else this.ctrlBtns[e].remove()},e.prototype.btnsClickOn=function(){this.ctrlBtns.forEach(function(t){t.clickBindOn()})},e.prototype.btnsClickOff=function(){this.ctrlBtns.forEach(function(t){t.clickBindOff()})},e.prototype.btnOnClick=function(t){console.log("\u50b3\u5165",t,"\u7576\u524d",this.currentIndex);var e=this.getSkinOwn().get(this.indexGetId.get(t));e&&u.default.effectPlay("btn_use"),this.currentIndex!=t&&(this.changeCtrlBtn(t,e),this.changeCon(t),e&&(this.updataMineSpine(),this.sendSkinREQ()))},e.prototype.updataMine=function(t){this.mineID=t.petID,this.mineSkinID=this.getCurrentSelectSkinID(t.petID)},e.prototype.setOrder=function(){this.node.zIndex=s.ViewZorder.UI},e.prototype.setNoUseTxt=function(){this.no_txt.string=this.langTxtData?this.langTxtData.noDisplay:""},e.prototype.getListData=function(){return[]},e.prototype.getcfgData=function(){return{}},e.prototype.getPieceMaxNum=function(){return 0},e.prototype.changeSkin=function(){},e.prototype.updataMineSpine=function(){},e.prototype.sendSkinREQ=function(){},e.prototype.getCurrentSelectSkinID=function(){return null},e.prototype.writeRemind=function(){},e.prototype.getSkinUsed=function(){},e.prototype.getSkinOwn=function(){},e}(a.default);n.default=p,cc._RF.pop()},{"../../../common/ActionTransition":"ActionTransition","../../../data/const/ViewZorder":"ViewZorder","../../../manager/LangMng":"LangMng","../../../manager/MusicMng":"MusicMng","../../ui/UIBase":"UIBase","./ConInfo":"ConInfo"}],SceneEnum:[function(t,e,n){"use strict";cc._RF.push(e,"2b6cfn5Kw1D1aaDVEdaYXGX","SceneEnum"),Object.defineProperty(n,"__esModule",{value:!0}),n.Scene=void 0,function(t){t.Login="login",t.MainGame="mainGame"}(n.Scene||(n.Scene={})),cc._RF.pop()},{}],SceneMng:[function(t,e,n){"use strict";cc._RF.push(e,"1ffbcqd11JElod7SHTW99A/","SceneMng"),Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("../controllers/ui/UIMessage"),r=t("../controllers/ui/UIHelp"),a=t("../controllers/ui/UILoading");(function(t){t[t.Login=0]="Login",t[t.Game=1]="Game"})(i||(i={}));var s=function(){function t(){this._nowScene=i.Login,this._resizeActive=!1,this._resizeDt=0,this.init()}return t.prototype.init=function(){this.resizeBindOn()},t.prototype.preload=function(t,e){cc.director.preloadScene(t,e)},t.prototype.load=function(t){var e=this;cc.director.loadScene(t,function(){e.resize()})},t.prototype.goGame=function(){this.load("mainGame"),this._nowScene=i.Game},t.prototype.getCurrentSceneName=function(){return this._nowScene},t.prototype.resize=function(){this.setCanvasSize(),r.default.Resize(a.default),r.default.Resize(o.default)},t.prototype.setCanvasSize=function(){if(cc){var t=this.getWinSize();t.height/t.width<=16/9?cc.view.setDesignResolutionSize(750,1333,cc.ResolutionPolicy.FIXED_HEIGHT):t.height/t.width>16/9&&t.height/t.width<=19.5/9?cc.view.setDesignResolutionSize(750,1624,cc.ResolutionPolicy.FIXED_WIDTH):cc.view.setDesignResolutionSize(750,1624,cc.ResolutionPolicy.FIXED_HEIGHT),this._resizeActive=!1}},t.prototype.resizeBindOn=function(){var t=this;window.addEventListener("resize",this.debounce(function(){t._resizeActive||(t._resizeActive=!0,t.resize())}))},t.prototype.resizeUpdate=function(){this._resizeActive&&(this._resizeDt++,this._resizeDt>=100&&(this.resize(),this._resizeActive=!1,this._resizeDt=0))},t.prototype.debounce=function(t){var e;return function(n){e&&clearTimeout(e),e=setTimeout(t,300,n)}},t.prototype.getWinSize=function(){return{width:window.innerWidth,height:window.innerHeight}},Object.defineProperty(t.prototype,"nowScene",{get:function(){return this._nowScene},set:function(t){this._nowScene=t},enumerable:!1,configurable:!0}),t}();n.default=new s,cc._RF.pop()},{"../controllers/ui/UIHelp":"UIHelp","../controllers/ui/UILoading":"UILoading","../controllers/ui/UIMessage":"UIMessage"}],System:[function(t,e,n){"use strict";cc._RF.push(e,"a67c9ki4oxP0I5lYcxGk/fB","System");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this,"System")||this;return e.is_open_music=!0,e.is_open_sound=!0,e.developMode=0,e.language="NTD",e}return o(e,t),e}(t("../IDataModel").default);n.default=r,cc._RF.pop()},{"../IDataModel":"IDataModel"}],ToolComponent:[function(t,e,n){"use strict";cc._RF.push(e,"296d8BDkOlGEIbDuK7/FYDQ","ToolComponent"),Object.defineProperty(n,"__esModule",{value:!0}),n.ToolIntroCon=n.ToolBtn=void 0;var i=function(){function t(t,e,n){this.id=-1,this.clickCallback=null,this.color_red=null,this.color_black=null,this.id=e,this.node=t,this.node_remindIcon=cc.find("remind/icon",this.node),this.node_remindIcon.active=!1,this.count_box=this.node.getChildByName("count_box"),this.count_bg=this.count_box.getChildByName("bg"),this.label_count=this.count_box.getChildByName("number").getComponent(cc.Label),this.bg_active=this.node.getChildByName("bg_active"),this.title_main=this.node.getChildByName("title"),this.label_title=this.title_main.getChildByName("txt").getComponent(cc.Label),this.color_red=new cc.Color(255,59,59),this.color_black=new cc.Color(0,0,0),n&&(this.clickCallback=n)}return t.prototype.active=function(t){this.bg_active.active=t,this.title_main.active=t,this.count_bg.color=t?this.color_red:this.color_black},t.prototype.setCount=function(t){this.label_count.string=t},t.prototype.setTitleTxt=function(t){this.label_title.string=t},t.prototype.bindOn=function(){this.node.on("touchend",this.onClick,this)},t.prototype.bindOff=function(){this.node.off("touchend",this.onClick,this)},t.prototype.onClick=function(){this.clickCallback&&this.clickCallback(this.id)},t}();n.ToolBtn=i;var o=function(){function t(t,e,n){this.id=-1,this.updateIntro=null,this.node=t,this.id=e,n&&(this.updateIntro=n)}return t.prototype.show=function(){this.node.active=!0,this.updateIntro&&this.updateIntro()},t.prototype.hide=function(){this.node.active&&(this.node.active=!1)},t}();n.ToolIntroCon=o,cc._RF.pop()},{}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"2b6cedKGxRIG6XYQhia9aYu","UIBase");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!1,configurable:!0}),e.getUrl=function(){return"prefab/"+this.prefabUrl},e.getName=function(){return this.className},e.prototype.init=function(t){this.onInit(t)},e.prototype.onLoad=function(){this._notifyEventList=new Map,this._registerEventList=new Map,this.onUILoad()},e.prototype.start=function(){this.onStart()},e.prototype.onDestroy=function(){this.onUIDestroy()},e.prototype.onEnable=function(){this.onRegisterEvent(this.node,this.touchEvent,this),this.onShow()},e.prototype.onDisable=function(){this.unRegisterEvent(this.node,this.touchEvent,this),this.onHide();var t=this;this._notifyEventList.forEach(function(e,n){a.default.off(n,e,t)},this),this._notifyEventList.clear()},e.prototype.initEvent=function(t,e){a.default.on(t,e,this),this._notifyEventList.set(t,e)},e.prototype.touchEvent=function(t){t.stopPropagation()},e.prototype.onRegisterEvent=function(t,e,n){void 0===n&&(n=null),t&&(t.on(cc.Node.EventType.TOUCH_END,e,n),this._registerEventList.set(t.name,{callback:e,target:n}))},e.prototype.unRegisterEvent=function(t,e,n){void 0===n&&(n=null),t.off(cc.Node.EventType.TOUCH_END,e,n)},e.prototype.getRegisterEventFuntion=function(t){var e=this._registerEventList.get(t);return e?e.callback:null},e.prototype.getCanvas=function(){var t=cc.find("Canvas");return cc.v2(t.x,t.y)},e.prototype.reViewRemind=function(){},e.prototype.onInit=function(){},e.prototype.onUILoad=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onStart=function(){},e.prototype.onShow=function(){},e.prototype.onHide=function(){},r([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../manager/EventMng":"EventMng"}],UIChooseSound:[function(t,e,n){"use strict";cc._RF.push(e,"1b905basAVAd4crk5NcjZO3","UIChooseSound");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,u,l,h=t("../../manager/ButtonMng"),p=t("../../manager/MusicMng"),d=t("./UIBase");(function(t){t.opneSound="opneSound",t.closeSound="closeSound"})(c||(c={})),function(t){t.ChooseSound="UIChooseSound"}(u||(u={})),function(t){t.requestFullScreen="requestFullScreen",t.exitFullScreen="exitFullScreen",t.autoFullScreen="autoFullScreen"}(l||(l={}));var f=cc._decorator.ccclass,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isChoose=!1,e}return o(e,t),e.prototype.onUILoad=function(){this.btn_closeSound=cc.find("btn_close",this.node).getComponent(cc.Button),this.btn_openSound=cc.find("btn_open",this.node).getComponent(cc.Button),this.hide()},e.prototype.show=function(){return a(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(e){t.node.active=!0,h.default.addEvent(t.node,u.ChooseSound,c.closeSound,t.btn_closeSound),h.default.addEvent(t.node,u.ChooseSound,c.opneSound,t.btn_openSound),setInterval(function(){t.isChoose&&(clearInterval(),e())},16)})]})})},e.prototype.hide=function(){this.node.active=!1,h.default.reMoveEvent(this.btn_closeSound,c.closeSound),h.default.reMoveEvent(this.btn_openSound,c.opneSound)},e.prototype.opneSound=function(){this.clickAfter()},e.prototype.closeSound=function(){p.default.getEffectState()&&p.default.switchEffect(),p.default.getMusicState()&&p.default.switchMusic(),this.clickAfter()},e.prototype.clickAfter=function(){this.isChoose=!0,this.hide()},r([f],e)}(d.default);n.default=_,cc._RF.pop()},{"../../manager/ButtonMng":"ButtonMng","../../manager/MusicMng":"MusicMng","./UIBase":"UIBase"}],UIDecoPop:[function(t,e,n){"use strict";cc._RF.push(e,"9f316D9qzpGI6adFfHWUdOw","UIDecoPop");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../manager/AssetsMng"),a=t("../../data/GameCenter"),s=t("../mine/pop/PropSelectPop"),c=t("../../manager/LangMng"),u=function(t){function e(){var e=t.call(this)||this;return e.langTxtData=null,e.langTxtData={noDisplay:c.default.getTxt("T_113")},e.btnIconImg={n:e.getBtnNormalImg(),a:e.getBtnActiveImg()},e.modelViewImg=e.getPetImg(),console.log(e.modelViewImg),e}return o(e,t),e.prototype.getListData=function(){return a.default.game.mineSkinListData},e.prototype.getPetImg=function(){var t=[];return r.default.getAssets("pet_1.plist").getSpriteFrames().forEach(function(e){t.push(e)}),t},e.prototype.getBtnNormalImg=function(){for(var t=[null],e=r.default.getAssets("decoration.plist"),n=1;n<4;n++)t[n]=e.getSpriteFrame("skin_01_n");for(n=4;n<8;n++)t[n]=e.getSpriteFrame("dec_01_n");return t},e.prototype.getBtnActiveImg=function(){for(var t=[null],e=r.default.getAssets("decoration.plist"),n=1;n<8;n++)t[n]=e.getSpriteFrame("skin_01_a");return t},e}(s.default);n.default=u,cc._RF.pop()},{"../../data/GameCenter":"GameCenter","../../manager/AssetsMng":"AssetsMng","../../manager/LangMng":"LangMng","../mine/pop/PropSelectPop":"PropSelectPop"}],UIGameVersen:[function(t,e,n){"use strict";cc._RF.push(e,"dbfb29ec7hF/JvD5hBJh2JP","UIGameVersen");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("./UIBase")),c=cc._decorator.ccclass,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.versen="1.2.1",e}return o(e,t),e.prototype.onUILoad=function(){cc.game.addPersistRootNode(this.node),this.label=this.node.getComponent(cc.Label),this.label.string=this.versen},e.prototype.show=function(){this.node.active||(this.node.active=!0)},e.prefabUrl="versen",e.className="UIGameVersen",r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"./UIBase":"UIBase"}],UIHelp:[function(t,e,n){"use strict";cc._RF.push(e,"0f7597DOsZLc7J+fGCabqaN","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../manager/UIMng"),o=t("../../data/const/ViewZorder"),r=t("./UILoading"),a=t("./UIMessage"),s=t("./UIGameVersen"),c=function(){function t(){}return t.ShowUI=function(t){i.default.getInstance().showUI(t)},t.HideUI=function(t){i.default.getInstance().hideUI(t)},t.ShowLoading=function(t){i.default.getInstance().openUI(r.default,o.ViewZorder.UI,t)},t.ShowVersen=function(t){i.default.getInstance().openUI(s.default,o.ViewZorder.Versen,t)},t.ShowDialog=function(t){var e=i.default.getInstance().getUI(a.default);e?e.show(t):i.default.getInstance().openUI(a.default,o.ViewZorder.Dialog,null,null,t)},t.Resize=function(t){i.default.getInstance().resizeUI(t)},t}();n.default=c,cc._RF.pop()},{"../../data/const/ViewZorder":"ViewZorder","../../manager/UIMng":"UIMng","./UIGameVersen":"UIGameVersen","./UILoading":"UILoading","./UIMessage":"UIMessage"}],UIInfo:[function(t,e,n){"use strict";cc._RF.push(e,"cfd9aq3RmlM16Tmxzt3eI7O","UIInfo");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/LangMng"),s=t("./UIBase"),c=t("../../data/const/ViewZorder"),u=t("../../manager/MusicMng"),l=cc._decorator.ccclass,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onUILoad=function(){this.node_main=this.node.getChildByName("main"),this.btn_close=this.node_main.getChildByName("btn_close");var t=this.node_main.getChildByName("con_1");this.label_title_1=t.getChildByName("title").getComponent(cc.Label),this.label_con_txt_1=t.getChildByName("content").getComponent(cc.Label);var e=this.node_main.getChildByName("con_2");this.label_title_2=e.getChildByName("title").getComponent(cc.Label),this.label_con_txt_2=t.getChildByName("content").getComponent(cc.Label),this.node.zIndex=c.ViewZorder.UI,this.setTxt(),this.hide(!1)},e.prototype.onShow=function(){this.onRegisterEvent(this.btn_close,this.onBtnCloseClick,this)},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.fadeIn())},e.prototype.hide=function(t){void 0===t&&(t=!0),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.setTxt=function(){this.label_title_1.string=a.default.getTxt("I_001"),this.label_con_txt_1.string=a.default.getTxt("I_002"),this.label_title_2.string=a.default.getTxt("I_003"),this.label_con_txt_2.string=a.default.getTxt("I_004")},e.prototype.fadeIn=function(){this.node.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.fadeIn(.1).easing(cc.easeSineOut())),u.default.effectPlay("btn_main1",!1)},e.prototype.fadeOut=function(){var t=this;this.node.stopAllActions(),u.default.effectPlay("btn_close",!1),this.node.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.node.active=!1})))},e.prototype.onBtnCloseClick=function(){this.hide()},r([l],e)}(s.default);n.default=h,cc._RF.pop()},{"../../data/const/ViewZorder":"ViewZorder","../../manager/LangMng":"LangMng","../../manager/MusicMng":"MusicMng","./UIBase":"UIBase"}],UILoadTip:[function(t,e,n){"use strict";cc._RF.push(e,"6ee63MtGNRCs7+qoygTJjeG","UILoadTip");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIBase"),u=t("../../data/const/ViewZorder"),l=cc._decorator.ccclass,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myDt=0,e.defauleShowTime=1,e}return o(e,t),e.prototype.onUILoad=function(){this.block=cc.find("block",this.node),this.icon=cc.find("icon",this.node),this.node.zIndex=u.ViewZorder.Loading,this.reset()},e.prototype.show=function(t){this.startDt=!0,this.node.active=!0,this.icon.opacity=0,this.block.opacity=0,this.showTime=t||this.defauleShowTime},e.prototype.update=function(t){var e=this;this.startDt&&(this.myDt+=t),this.myDt>this.showTime&&(this.startDt=!1,this.myDt=0,this.isAni=!0,this.block.runAction(cc.fadeTo(.2,59)),this.icon.runAction(cc.sequence(cc.fadeIn(.2),cc.callFunc(function(){e.isAni=!1}))))},e.prototype.hide=function(){return a(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(e){t.isAni?t.scheduleOnce(function(){t.reset(e)},1):t.reset(e)})]})})},e.prototype.reset=function(t){this.startDt=!1,this.myDt=0,this.icon.stopAllActions(),this.node.active=!1,t&&t()},r([l],e)}(c.default);n.default=h,cc._RF.pop()},{"../../data/const/ViewZorder":"ViewZorder","./UIBase":"UIBase"}],UILoading:[function(t,e,n){"use strict";cc._RF.push(e,"f7418/eTg1GuKl68PWCV/8c","UILoading");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIBase"),u=t("../ui/UIChooseSound"),l=t("../../data/const/EventConst"),h=cc._decorator.ccclass,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){cc.game.addPersistRootNode(this.node)},e.prototype.onUILoad=function(){this.resize(),this.node_load_txt2=cc.find("full_plane/load_txt_2",this.node),this.node_load_txt1=cc.find("full_plane/load_txt_1",this.node),this.node_load_txt3=cc.find("full_plane/load_txt_3",this.node),this.node_load_txt3.active=!1,this.chooseSound=cc.find("full_plane/chooseSound",this.node).addComponent(u.default),this.initEvent(l.LoadEvent.LOAD_CHOOSESOUND,this.showChooseSound)},e.prototype.showChooseSound=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.node_load_txt2.getComponent(cc.Animation).stop(),this.node_load_txt3.active=!0,[4,this.chooseSound.show()];case 1:return e.sent(),t(),[2]}})})},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.setTxt(),this.fadeIn())},e.prototype.hide=function(t){void 0===t&&(t=!0),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.fadeIn=function(){this.node.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeIn(.1),cc.callFunc(function(){})))},e.prototype.fadeOut=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(.16),cc.callFunc(function(){t.node.active=!1})))},e.prototype.setTxt=function(){},e.prototype.resize=function(){var t=this.getCanvas();this.node.setPosition(t.x,t.y)},e.prefabUrl="loading_full_plane",e.className="UILoading",r([h],e)}(c.default);n.default=p,cc._RF.pop()},{"../../data/const/EventConst":"EventConst","../ui/UIChooseSound":"UIChooseSound","./UIBase":"UIBase"}],UIMessage:[function(t,e,n){"use strict";cc._RF.push(e,"2d4de+mDeJJN7KetexHq3uT","UIMessage");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s,c=a(t("./UIBase")),u=a(t("../../data/scene/DataUIMessage")),l=a(t("../../manager/LangMng")),h=cc._decorator.ccclass;(function(t){t[t.All=0]="All",t[t.Confirm=1]="Confirm",t[t.None=2]="None",t[t.EndGame=3]="EndGame"})(s||(s={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e._isLangSet=!1,e._type=s.None,e._canCover=!0,e._autoClose=!1,e._timer=null,e._timerTime=3e3,e}return o(e,t),e.prototype.onInit=function(){cc.game.addPersistRootNode(this.node)},e.prototype.onUILoad=function(){this.ui=this.node.addComponent(u.default),this.resize(),this.hide(!1)},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_confirm,this.onConfirmClick,this),this.onRegisterEvent(this.ui.btn_cancel,this.onCancelClick,this),this.onRegisterEvent(this.ui.node_backBg,this.onBackBgClick,this),this.setLang()},e.prototype.onHide=function(){this.unRegisterAllEvent(),this._canCover=!0},e.prototype.onConfirmClick=function(){this._confirmCb&&this._confirmCb(),this.hide()},e.prototype.onCancelClick=function(){this._cancelCb&&this._cancelCb(),this.hide()},e.prototype.onBackBgClick=function(){this.hide()},e.prototype.show=function(t){var e=this;if(null!=t){var n=t;this._type=n.type,this._content=n.content,this._confirmCb=n.confirmCb,this._cancelCb=n.cancelCb,null!=n.canCover&&(this._canCover=n.canCover),!this._canCover&&this.node.active||(null!=n.autoClose&&(this._autoClose=n.autoClose),this._autoClose&&(this._timer=setTimeout(function(){e.hide()},this._timerTime)),this.node.active=!0,this.setIntroTxt(),this.setBtnsDisplay(),this.fadeIn())}},e.prototype.hide=function(t){void 0===t&&(t=!0),clearTimeout(this._timer),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.fadeIn=function(){this.ui.node_main.opacity=0,this.ui.node_main.scale=1.3,this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15),cc.scaleTo(.2,1).easing(cc.easeBackOut())),cc.callFunc(function(){})))},e.prototype.fadeOut=function(){var t=this;this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.node.active=!1})))},e.prototype.setBtnsDisplay=function(){switch(this._type){case s.Confirm:this.setBtnCancelActive(!1),this.setBtnConfirmActive(!0);break;case s.None:this.setBtnCancelActive(!1),this.setBtnConfirmActive(!1);break;case s.EndGame:this.setBtnCancelActive(!1),this.setBtnConfirmActive(!1),this.unRegisterAllEvent(),this.ui.node_backBg.getComponent(cc.Sprite).enabled=!0;break;default:this.setBtnCancelActive(!0),this.setBtnConfirmActive(!0)}},e.prototype.setBtnConfirmActive=function(t){this.ui.btn_confirm.active=t},e.prototype.setBtnCancelActive=function(t){this.ui.btn_cancel.active=t},e.prototype.setIntroTxt=function(){this.ui.label_msg_txt.string=this._content},e.prototype.unRegisterAllEvent=function(){this.unRegisterEvent(this.ui.btn_cancel,this.onConfirmClick,this),this.unRegisterEvent(this.ui.btn_cancel,this.onCancelClick,this),this.unRegisterEvent(this.ui.node_backBg,this.onBackBgClick,this)},e.prototype.setLang=function(){this._isLangSet||(this.ui.label_confirm.string=l.default.getTxt("P_1001"),this.ui.label_cancel.string=l.default.getTxt("P_1002"),this._isLangSet=!0)},e.prototype.resize=function(){var t=this.getCanvas();this.node.setPosition(t.x,t.y)},e.prefabUrl="message_panel",e.className="UIMessage",r([h],e)}(c.default);n.default=p,cc._RF.pop()},{"../../data/scene/DataUIMessage":"DataUIMessage","../../manager/LangMng":"LangMng","./UIBase":"UIBase"}],UIMng:[function(t,e,n){"use strict";cc._RF.push(e,"095671c/OFGXJQ8UAONFXpD","UIMng"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("../data/const/ViewZorder"),o=function(){function t(){this.uiList=[]}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,n,o){var r=this;void 0===e&&(e=i.ViewZorder.UI);for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];this.getUI(t)||cc.loader.loadRes(t.getUrl(),function(t,e,n){o&&o(t,e,n)},function(i,o){if(!i&&!r.getUI(t)){var s=cc.instantiate(o),c=s.getComponent(t);if(c){c.init(a);var u=cc.director.getScene();u&&(s.parent=u,s.zIndex=e,r.uiList.push(c),c.tag=t,n&&n(c))}}})},t.prototype.showUI=function(t){var e=this.getUI(t);e&&(e.show?e.show():e.node.active=!0)},t.prototype.hideUI=function(t){var e=this.getUI(t);e.hide?e.hide():e.node.active=!1},t.prototype.resizeUI=function(t){var e=this.getUI(t);e&&e.resize&&e.resize()},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return cc.isValid(this.uiList[e].node)&&(this.uiList[e].node.destroy(),this.clearDependsRes(t.getUrl())),void this.uiList.splice(e,1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t.prototype.clearDependsRes=function(t){cc.loader.getDependsRecursively(t).forEach(function(t){-1===t.indexOf("common")&&cc.loader.release(t)})},t}();n.default=o,cc._RF.pop()},{"../data/const/ViewZorder":"ViewZorder"}],UIMusic:[function(t,e,n){"use strict";cc._RF.push(e,"8166cTvy+RJFIeDtGEoIKtC","UIMusic");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("./UIBase"),c=t("../../data/scene/DataUIMusic"),u=t("../../manager/LangMng"),l=t("../../manager/MusicMng");(function(t){t[t.Music=0]="Music",t[t.Effect=1]="Effect"})(a||(a={}));var h=cc._decorator.ccclass,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e._isLangSet=!1,e._closeX=-33,e._openX=33,e._closeColor=new cc.Color(190,190,190,255),e._openColor=new cc.Color(0,133,255,255),e}return o(e,t),e.prototype.onInit=function(){cc.game.addPersistRootNode(this.node),this.resize()},e.prototype.onUILoad=function(){this.ui=this.node.addComponent(c.default),this.updateBtnDisplay(a.Music),this.updateBtnDisplay(a.Effect),this.hide(!1)},e.prototype.onShow=function(){this.setLang(),this.onRegisterEvent(this.ui.btn_close,this.onBtnCloseClick,this),this.onRegisterEvent(this.ui.btn_music,this.onBtnMusicClick,this),this.onRegisterEvent(this.ui.btn_effect,this.onBtnEffectClick,this)},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_music,this.onBtnCloseClick,this),this.unRegisterEvent(this.ui.btn_close,this.onBtnMusicClick,this),this.unRegisterEvent(this.ui.btn_effect,this.onBtnEffectClick,this)},e.prototype.onBtnCloseClick=function(){this.hide()},e.prototype.onBtnMusicClick=function(){l.default.switchMusic(),this.updateBtnDisplay(a.Music)},e.prototype.onBtnEffectClick=function(){l.default.switchEffect(),this.updateBtnDisplay(a.Effect)},e.prototype.updateBtnDisplay=function(t){var e=0==t?l.default.getMusicState():l.default.getEffectState(),n=0==t?this.ui.node_musicCircle:this.ui.node_effectCircle,i=0==t?this.ui.node_musicBg:this.ui.node_effectBg,o=e?this._openX:this._closeX,r=e?this._openColor:this._closeColor;n.stopAllActions(),n.runAction(cc.moveTo(.2,o,0).easing(cc.easeSineOut())),i.stopAllActions(),i.runAction(cc.tintTo(.2,r.getR(),r.getG(),r.getB()))},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.fadeIn())},e.prototype.hide=function(t){void 0===t&&(t=!0),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.fadeIn=function(){this.ui.node_main.setPosition(0,2e3),this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.moveTo(.3,0,0).easing(cc.easeQuarticActionInOut()),cc.callFunc(function(){})))},e.prototype.fadeOut=function(){var t=this;this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.moveTo(.2,0,2e3).easing(cc.easeSineOut()),cc.callFunc(function(){t.node.active=!1})))},e.prototype.setLang=function(){this._isLangSet||(this.ui.label_music.string=u.default.getTxt("MB_008"),this.ui.label_effect.string=u.default.getTxt("MB_009"),this.ui.label_close.string=u.default.getTxt("P_1003"),this._isLangSet=!0)},e.prototype.resize=function(){var t=this.getCanvas();this.node.setPosition(t.x,t.y)},e.prefabUrl="music_panel",e.className="UIMusic",r([h],e)}(s.default);n.default=p,cc._RF.pop()},{"../../data/scene/DataUIMusic":"DataUIMusic","../../manager/LangMng":"LangMng","../../manager/MusicMng":"MusicMng","./UIBase":"UIBase"}],UISkinPop:[function(t,e,n){"use strict";cc._RF.push(e,"47f5anK9OFGM5aOAaXeNX9s","UISkinPop");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../manager/AssetsMng"),a=t("../../data/GameCenter"),s=t("../mine/pop/PropSelectPop"),c=t("../../manager/LangMng"),u=t("../../GameController"),l=t("../../manager/EventMng"),h=t("../../data/const/EventConst"),p=function(t){function e(){var e=t.call(this)||this;return e.langTxtData=null,e.langTxtData={noDisplay:c.default.getTxt("T_113")},e.btnIconImg={n:e.getBtnNormalImg(),a:e.getBtnActiveImg()},e.modelViewImg=e.getPetImg(),e}return o(e,t),e.prototype.getListData=function(){return a.default.game.mineSkinListData},e.prototype.getcfgData=function(){return a.default.cfgMine},e.prototype.getPetImg=function(){var t=[];return r.default.getAssets("pet_1.plist").getSpriteFrames().forEach(function(e){t.push(e)}),t},e.prototype.getBtnNormalImg=function(){var t=this,e=new Map;return r.default.getAssets("skin_gray.plist").getSpriteFrames().forEach(function(n){var i=Number(n.name.split("_")[1].split("skin")[1]);i=t.spriteNameChangeID(i),e.set(i,n)}),e},e.prototype.getBtnActiveImg=function(){var t=this,e=new Map;return r.default.getAssets("skin.plist").getSpriteFrames().forEach(function(n){var i=Number(n.name.split("item_skin")[1]);i=t.spriteNameChangeID(i),e.set(i,n)}),e},e.prototype.getCurrentSelectSkinID=function(t){var e=a.default.game.mineSelectSkin.get(t);return-1==e?t:e},e.prototype.updataMineSpine=function(){a.default.game.mineSelectSkin.set(this.mineID,this.mineSkinID)},e.prototype.sendSkinREQ=function(){l.default.emit(h.MainEvent.LOADTIP_SHOW),u.default.net.send("skin",{id:this.IDChangeServer(this.mineSkinID)})},e.prototype.getSkinUsed=function(){return a.default.game.mineSkinUsed},e.prototype.getSkinOwn=function(){return a.default.game.mineSkinOwn},e.prototype.writeRemind=function(t){a.default.game.mineSkinUsed.set(t,!0)},e.prototype.changeSkin=function(){this.conInfo.spine_model_view.skeletonData=r.default.getAssets(a.default.game.mineBodyName.get(this.mineSkinID)+".spine"),this.conInfo.spine_model_view.setSkin(a.default.game.getPetBodySkinName(this.mineID)),this.conInfo.spine_model_view.setAnimation(0,"idle",!0)},e.prototype.spriteNameChangeID=function(t){switch(t){case 101:return 7;case 102:return 8;case 103:return 9;default:return t}},e.prototype.IDChangeServer=function(t){switch(t){case 1:return-1;case 101:return 7;case 102:return 8;case 103:return 9;default:return t}},e}(s.default);n.default=p,cc._RF.pop()},{"../../GameController":"GameController","../../data/GameCenter":"GameCenter","../../data/const/EventConst":"EventConst","../../manager/AssetsMng":"AssetsMng","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../mine/pop/PropSelectPop":"PropSelectPop"}],UIUpgradePanel:[function(t,e,n){"use strict";cc._RF.push(e,"65452SKn4BDMZY6E+o5EwfY","UIUpgradePanel");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../data/GameCenter"),a=t("../../manager/AssetsMng"),s=t("../../data/const/ViewZorder"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onUILoad=function(){this.black_bg=this.node.getChildByName("bg"),this.spine=this.node.getChildByName("spine").getComponent(sp.Skeleton),this.light=this.node.getChildByName("light"),this.node.opacity=255,this.node.active=!1,this.init()},e.prototype.init=function(){this.node.zIndex=s.ViewZorder.UI},e.prototype.show=function(t){this.setSpineData(t),this.node.active=!0,this.light.active=!1,this.black_bg.active=!0,this.black_bg.opacity=0,this.black_bg.stopAllActions(),this.black_bg.runAction(cc.fadeTo(.15,180)),this.spine.node.active=!0,this.spine.setAnimation(0,"lv_start",!0)},e.prototype.hide=function(t){var e=this;this.light.active=!0,this.light.opacity=0,this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.fadeIn(.15).easing(cc.easeSineIn()),cc.callFunc(function(){e.spine.node.active=!1,e.black_bg.active=!1,t&&t()}),cc.delayTime(.1),cc.fadeOut(.2).easing(cc.easeSineOut()),cc.callFunc(function(){e.node.active=!1})))},e.prototype.setSpineData=function(t){var e=r.default.game.getPetBodyThemeName(t);this.spine.skeletonData=a.default.getAssets(e+".spine"),this.setSkin(t)},e.prototype.setSkin=function(t){this.spine.setSkin(r.default.game.getPetBodySkinName(t))},e}(t("./UIBase").default);n.default=c,cc._RF.pop()},{"../../data/GameCenter":"GameCenter","../../data/const/ViewZorder":"ViewZorder","../../manager/AssetsMng":"AssetsMng","./UIBase":"UIBase"}],ViewZorder:[function(t,e,n){"use strict";cc._RF.push(e,"29baandiBxIr75OnuvAtJCP","ViewZorder"),Object.defineProperty(n,"__esModule",{value:!0}),n.ViewZorder=void 0;var i=function(){function t(){}return t.Btn=13,t.Scene=20,t.UI=100,t.Versen=101,t.Dialog=200,t.Loading=300,t}();n.ViewZorder=i,cc._RF.pop()},{}],WebAPI:[function(t,e,n){"use strict";cc._RF.push(e,"03ebe44nLBHH4l0fYiXtCmo","WebAPI");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this,"WebAPI")||this;return e.init(),e}return o(e,t),Object.defineProperty(e.prototype,"GameServerSocket",{get:function(){return this._GameServerSocket},set:function(t){this._GameServerSocket=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accountName",{get:function(){return this._accountName},set:function(t){this._accountName=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},set:function(t){this._loginType=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this._token},set:function(t){this._token=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this._code},set:function(t){this._code=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"channelId",{get:function(){return this._channelId},set:function(t){this._channelId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameId",{get:function(){return this._gameId},set:function(t){this._gameId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lang",{get:function(){return this._lang},set:function(t){this._lang=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameMaker",{get:function(){return this._gameMaker},set:function(t){this._gameMaker=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"homeURL",{get:function(){return this._homeURL},set:function(t){this._homeURL=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"companyIcon",{get:function(){return this._companyIcon},set:function(t){this._companyIcon=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windows",{get:function(){return this._windows},set:function(t){this._windows=t},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.setData("GameServerSocket"),this.setData("accountName"),this.setData("loginType"),this.setData("token"),this.setData("gameId"),this.setData("lang"),this.setData("homeURL"),this.setData("companyIcon"),this.setData("windows")},e.prototype.setData=function(t){(window[t]&&""!=window[t]||0===window[t])&&(this[t]=window[t])},e}(t("../IDataModel").default);n.default=r,cc._RF.pop()},{"../IDataModel":"IDataModel"}],"anime.es":[function(t,e,n){"use strict";cc._RF.push(e,"db9e2P8oX1PXYgteZk3fz/E","anime.es"),n.__esModule=!0,n.default=void 0;var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],a={CSS:{},springs:{}};function s(t,e,n){return Math.min(Math.max(t,e),n)}function c(t,e){return t.indexOf(e)>-1}function u(t,e){return t.apply(null,e)}var l={arr:function(t){return Array.isArray(t)},obj:function(t){return c(Object.prototype.toString.call(t),"Object")},pth:function(t){return l.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||l.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return l.hex(t)||l.rgb(t)||l.hsl(t)},key:function(t){return!i.hasOwnProperty(t)&&!o.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function h(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(t){return parseFloat(t)}):[]}function p(t,e){var n=h(t),i=s(l.und(n[0])?1:n[0],.1,100),o=s(l.und(n[1])?100:n[1],.1,100),r=s(l.und(n[2])?10:n[2],.1,100),c=s(l.und(n[3])?0:n[3],.1,100),u=Math.sqrt(o/i),p=r/(2*Math.sqrt(o*i)),d=p<1?u*Math.sqrt(1-p*p):0,f=1,_=p<1?(p*u-c)/d:-c+u;function g(t){var n=e?e*t/1e3:t;return n=p<1?Math.exp(-n*p*u)*(f*Math.cos(d*n)+_*Math.sin(d*n)):(f+_*n)*Math.exp(-n*u),0===t||1===t?t:1-n}return e?g:function(){var e=a.springs[t];if(e)return e;for(var n=0,i=0;;)if(1===g(n+=1/6)){if(++i>=16)break}else i=0;var o=n*(1/6)*1e3;return a.springs[t]=o,o}}function d(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=s(t,1,10),i=s(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin(2*(t-1-i/(2*Math.PI)*Math.asin(1/n))*Math.PI/i)}}function f(t){return void 0===t&&(t=10),function(e){return Math.round(e*t)*(1/t)}}var _=function(){var t=11,e=1/(t-1);function n(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function o(t){return 3*t}function r(t,e,r){return((n(e,r)*t+i(e,r))*t+o(e))*t}function a(t,e,r){return 3*n(e,r)*t*t+2*i(e,r)*t+o(e)}function s(t,e,n,i,o){var a,s,c=0;do{(a=r(s=e+(n-e)/2,i,o)-t)>0?n=s:e=s}while(Math.abs(a)>1e-7&&++c<10);return s}function c(t,e,n,i){for(var o=0;o<4;++o){var s=a(e,n,i);if(0===s)return e;e-=(r(e,n,i)-t)/s}return e}return function(n,i,o,u){if(0<=n&&n<=1&&0<=o&&o<=1){var l=new Float32Array(t);if(n!==i||o!==u)for(var h=0;h<t;++h)l[h]=r(h*e,n,o);return function(t){return n===i&&o===u?t:0===t||1===t?t:r(p(t),i,u)}}function p(i){for(var r=0,u=1,h=t-1;u!==h&&l[u]<=i;++u)r+=e;var p=r+(i-l[--u])/(l[u+1]-l[u])*e,d=a(p,n,o);return d>=.001?c(i,p,n,o):0===d?p:s(i,r,r+e,n,o)}}}(),g=function(){var t=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],d],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,e){return function(n){return 1-d(t,e)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,e){return function(n){return n<.5?d(t,e)(2*n)/2:1-d(t,e)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]},i=function(i){e[i].forEach(function(e,o){n["ease"+i+t[o]]=e})};for(var o in e)i(o);return n}();function m(t,e){if(l.fnc(t))return t;var n=t.split("(")[0],i=g[n],o=h(t);switch(n){case"spring":return p(t,e);case"cubicBezier":return u(_,o);case"steps":return u(f,o);default:return l.fnc(i)?u(i,o):u(_,i)}}function y(t){try{return document.querySelectorAll(t)}catch(e){return}}function v(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,o=[],r=0;r<n;r++)if(r in t){var a=t[r];e.call(i,a,r,t)&&o.push(a)}return o}function b(t){return t.reduce(function(t,e){return t.concat(l.arr(e)?b(e):e)},[])}function C(t){return l.arr(t)?t:(l.str(t)&&(t=y(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function M(t,e){return t.some(function(t){return t===e})}function E(t){var e={};for(var n in t)e[n]=t[n];return e}function S(t,e){var n=E(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function P(t,e){var n=E(t);for(var i in e)n[i]=l.und(t[i])?e[i]:t[i];return n}function I(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,i){return e+e+n+n+i+i}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}function O(t){var e,n,i,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(o[1],10)/360,a=parseInt(o[2],10)/100,s=parseInt(o[3],10)/100,c=o[4]||1;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=i=s;else{var l=s<.5?s*(1+a):s+a-s*a,h=2*s-l;e=u(h,l,r+1/3),n=u(h,l,r),i=u(h,l,r-1/3)}return"rgba("+255*e+","+255*n+","+255*i+","+c+")"}function w(t){return l.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:l.hex(t)?I(t):l.hsl(t)?O(t):void 0;var e,n}function A(t){var e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[2]}function T(t){return c(t,"translate")||"perspective"===t?"px":c(t,"rotate")||c(t,"skew")?"deg":void 0}function R(t,e){return l.fnc(t)?t(e.target,e.id,e.total):t}function B(t,e){return t.getAttribute(e)}function N(t,e,n){if(M([n,"deg","rad","turn"],A(e)))return e;var i=a.CSS[e+n];if(!l.und(i))return i;var o=document.createElement(t.tagName),r=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;r.appendChild(o),o.style.position="absolute",o.style.width=100+n;var s=100/o.offsetWidth;r.removeChild(o);var c=s*parseFloat(e);return a.CSS[e+n]=c,c}function D(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?N(t,o,n):o}}function k(t,e){return l.dom(t)&&!l.inp(t)&&(B(t,e)||l.svg(t)&&t[e])?"attribute":l.dom(t)&&M(r,e)?"transform":l.dom(t)&&"transform"!==e&&D(t,e)?"css":null!=t[e]?"object":void 0}function x(t){if(l.dom(t)){for(var e,n=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,o=new Map;e=i.exec(n);)o.set(e[1],e[2]);return o}}function L(t,e,n,i){var o=c(e,"scale")?1:0+T(e),r=x(t).get(e)||o;return n&&(n.transforms.list.set(e,r),n.transforms.last=e),i?N(t,r,i):r}function G(t,e,n,i){switch(k(t,e)){case"transform":return L(t,e,i,n);case"css":return D(t,e,n);case"attribute":return B(t,e);default:return t[e]||0}}function U(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=A(t)||0,o=parseFloat(e),r=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return o+r+i;case"-":return o-r+i;case"*":return o*r+i}}function j(t,e){if(l.col(t))return w(t);var n=A(t),i=n?t.substr(0,t.length-n.length):t;return e&&!/\s/g.test(t)?i+e:i}function F(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function H(t){return 2*Math.PI*B(t,"r")}function V(t){return 2*B(t,"width")+2*B(t,"height")}function W(t){return F({x:B(t,"x1"),y:B(t,"y1")},{x:B(t,"x2"),y:B(t,"y2")})}function z(t){for(var e,n=t.points,i=0,o=0;o<n.numberOfItems;o++){var r=n.getItem(o);o>0&&(i+=F(e,r)),e=r}return i}function K(t){var e=t.points;return z(t)+F(e.getItem(e.numberOfItems-1),e.getItem(0))}function Z(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return H(t);case"rect":return V(t);case"line":return W(t);case"polyline":return z(t);case"polygon":return K(t)}}function q(t){for(var e=t.parentNode;l.svg(e)&&(e=e.parentNode,l.svg(e.parentNode)););return e}function J(t,e){var n=e||{},i=n.el||q(t),o=i.getBoundingClientRect(),r=B(i,"viewBox"),a=o.width,s=o.height,c=n.viewBox||(r?r.split(" "):[0,0,a,s]);return{el:i,viewBox:c,x:c[0]/1,y:c[1]/1,w:a/c[2],h:s/c[3]}}function Y(t,e){function n(n){void 0===n&&(n=0);var i=e+n>=1?e+n:0;return t.el.getPointAtLength(i)}var i=J(t.el,t.svg),o=n(),r=n(-1),a=n(1);switch(t.property){case"x":return(o.x-i.x)*i.w;case"y":return(o.y-i.y)*i.h;case"angle":return 180*Math.atan2(a.y-r.y,a.x-r.x)/Math.PI}}function Q(t,e){var n=/-?\d*\.?\d+/g,i=j(l.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:l.str(t)||e?i.split(n):[]}}function X(t){return v(t?b(l.arr(t)?t.map(C):C(t)):[],function(t,e,n){return n.indexOf(t)===e})}function $(t){var e=X(t);return e.map(function(t,n){return{target:t,id:n,total:e.length,transforms:{list:x(t)}}})}function tt(t,e){var n=E(e);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),l.arr(t)){var i=t.length;2!==i||l.obj(t[0])?l.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}var o=l.arr(t)?t:[t];return o.map(function(t,n){var i=l.obj(t)&&!l.pth(t)?t:{value:t};return l.und(i.delay)&&(i.delay=n?0:e.delay),l.und(i.endDelay)&&(i.endDelay=n===o.length-1?e.endDelay:0),i}).map(function(t){return P(t,n)})}function et(t){for(var e=v(b(t.map(function(t){return Object.keys(t)})),function(t){return l.key(t)}).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]),n={},i=function(i){var o=e[i];n[o]=t.map(function(t){var e={};for(var n in t)l.key(n)?n==o&&(e.value=t[n]):e[n]=t[n];return e})},o=0;o<e.length;o++)i(o);return n}function nt(t,e){var n=[],i=e.keyframes;for(var o in i&&(e=P(et(i),e)),e)l.key(o)&&n.push({name:o,tweens:tt(e[o],t)});return n}function it(t,e){var n={};for(var i in t){var o=R(t[i],e);l.arr(o)&&1===(o=o.map(function(t){return R(t,e)})).length&&(o=o[0]),n[i]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function ot(t,e){var n;return t.tweens.map(function(i){var o=it(i,e),r=o.value,a=l.arr(r)?r[1]:r,s=A(a),c=G(e.target,t.name,s,e),u=n?n.to.original:c,h=l.arr(r)?r[0]:u,p=A(h)||A(c),d=s||p;return l.und(a)&&(a=u),o.from=Q(h,d),o.to=Q(U(a,h),d),o.start=n?n.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=m(o.easing,o.duration),o.isPath=l.pth(r),o.isColor=l.col(o.from.original),o.isColor&&(o.round=1),n=o,o})}var rt={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,o){if(i.list.set(e,n),e===i.last||o){var r="";i.list.forEach(function(t,e){r+=e+"("+t+") "}),t.style.transform=r}}};function at(t,e){$(t).forEach(function(t){for(var n in e){var i=R(e[n],t),o=t.target,r=A(i),a=G(o,n,r,t),s=U(j(i,r||A(a)),a),c=k(o,n);rt[c](o,n,s,t.transforms,!0)}})}function st(t,e){var n=k(t.target,e.name);if(n){var i=ot(e,t),o=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:o.end,delay:i[0].delay,endDelay:o.endDelay}}}function ct(t,e){return v(b(t.map(function(t){return e.map(function(e){return st(t,e)})})),function(t){return!l.und(t)})}function ut(t,e){var n=t.length,i=function(t){return t.timelineOffset?t.timelineOffset:0},o={};return o.duration=n?Math.max.apply(Math,t.map(function(t){return i(t)+t.duration})):e.duration,o.delay=n?Math.min.apply(Math,t.map(function(t){return i(t)+t.delay})):e.delay,o.endDelay=n?o.duration-Math.max.apply(Math,t.map(function(t){return i(t)+t.duration-t.endDelay})):e.endDelay,o}var lt=0;function ht(t){var e=S(i,t),n=S(o,t),r=nt(n,t),a=$(t.targets),s=ct(a,r),c=ut(s,n),u=lt;return lt++,P(e,{id:u,children:[],animatables:a,animations:s,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}var pt,dt=[],ft=[],_t=function(){function t(){pt=requestAnimationFrame(e)}function e(e){var n=dt.length;if(n){for(var i=0;i<n;){var o=dt[i];if(o.paused){var r=dt.indexOf(o);r>-1&&(dt.splice(r,1),n=dt.length)}else o.tick(e);i++}t()}else pt=cancelAnimationFrame(pt)}return t}();function gt(t){void 0===t&&(t={});var e,n=0,i=0,o=0,r=0,a=null;function c(){return window.Promise&&new Promise(function(t){return a=t})}var u=c(),l=ht(t);function h(){l.reversed=!l.reversed,e.forEach(function(t){return t.reversed=l.reversed})}function p(t){return l.reversed?l.duration-t:t}function d(){n=0,i=p(l.currentTime)*(1/gt.speed)}function f(t,e){e&&e.seek(t-e.timelineOffset)}function _(t){if(l.reversePlayback)for(var n=r;n--;)f(t,e[n]);else for(var i=0;i<r;i++)f(t,e[i])}function g(t){for(var e=0,n=l.animations,i=n.length;e<i;){var o=n[e],r=o.animatable,a=o.tweens,c=a.length-1,u=a[c];c&&(u=v(a,function(e){return t<e.end})[0]||u);for(var h=s(t-u.start-u.delay,0,u.duration)/u.duration,p=isNaN(h)?1:u.easing(h),d=u.to.strings,f=u.round,_=[],g=u.to.numbers.length,m=void 0,y=0;y<g;y++){var b=void 0,C=u.to.numbers[y],M=u.from.numbers[y]||0;b=u.isPath?Y(u.value,p*C):M+p*(C-M),f&&(u.isColor&&y>2||(b=Math.round(b*f)/f)),_.push(b)}var E=d.length;if(E){m=d[0];for(var S=0;S<E;S++){d[S];var P=d[S+1],I=_[S];isNaN(I)||(m+=P?I+P:I+" ")}}else m=_[0];rt[o.type](r.target,o.property,m,r.transforms),o.currentValue=m,e++}}function m(t){l[t]&&!l.passThrough&&l[t](l)}function y(t){var r=l.duration,d=l.delay,f=r-l.endDelay,y=p(t);l.progress=s(y/r*100,0,100),l.reversePlayback=y<l.currentTime,e&&_(y),!l.began&&l.currentTime>0&&(l.began=!0,m("begin"),m("loopBegin")),y<=d&&0!==l.currentTime&&g(0),(y>=f&&l.currentTime!==r||!r)&&g(r),y>d&&y<f?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,m("changeBegin")),m("change"),g(y)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,m("changeComplete")),l.currentTime=s(y,0,r),l.began&&m("update"),t>=r&&(i=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(n=o,m("loopComplete"),m("loopBegin"),"alternate"===l.direction&&h()):(l.paused=!0,l.completed||(l.completed=!0,m("loopComplete"),m("complete"),"Promise"in window&&(a(),u=c()))))}return l.reset=function(){var t=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===t,l.remaining=l.loop,e=l.children;for(var n=r=e.length;n--;)l.children[n].reset();(l.reversed&&!0!==l.loop||"alternate"===t&&1===l.loop)&&l.remaining++,g(0)},l.set=function(t,e){return at(t,e),l},l.tick=function(t){o=t,n||(n=o),y((o+(i-n))*gt.speed)},l.seek=function(t){y(p(t))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.paused=!1,dt.push(l),d(),pt||_t())},l.reverse=function(){h(),d()},l.restart=function(){l.reset(),l.play()},l.finished=u,l.reset(),l.autoplay&&l.play(),l}function mt(t,e){for(var n=e.length;n--;)M(t,e[n].animatable.target)&&e.splice(n,1)}document.addEventListener("visibilitychange",function(){document.hidden?(dt.forEach(function(t){return t.pause()}),ft=dt.slice(0),dt=[]):ft.forEach(function(t){return t.play()})}),gt.version="3.0.0",gt.speed=1,gt.running=dt,gt.remove=function(t){for(var e=X(t),n=dt.length;n--;){var i=dt[n],o=i.animations,r=i.children;mt(e,o);for(var a=r.length;a--;){var s=r[a],c=s.animations;mt(e,c),c.length||s.children.length||r.splice(a,1)}o.length||r.length||i.pause()}},gt.get=G,gt.set=at,gt.convertPx=N,gt.path=function(t,e){var n=l.str(t)?y(t)[0]:t,i=e||100;return function(t){return{property:t,el:n,svg:J(n),totalLength:Z(n)*(i/100)}}},gt.setDashoffset=function(t){var e=Z(t);return t.setAttribute("stroke-dasharray",e),e},gt.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",i=e.easing?m(e.easing):null,o=e.grid,r=e.axis,a=e.from||0,s="first"===a,c="center"===a,u="last"===a,h=l.arr(t),p=h?parseFloat(t[0]):parseFloat(t),d=h?parseFloat(t[1]):0,f=A(h?t[1]:t)||0,_=e.start||0+(h?p:0),g=[],y=0;return function(t,e,l){if(s&&(a=0),c&&(a=(l-1)/2),u&&(a=l-1),!g.length){for(var m=0;m<l;m++){if(o){var v=c?(o[0]-1)/2:a%o[0],b=c?(o[1]-1)/2:Math.floor(a/o[0]),C=v-m%o[0],M=b-Math.floor(m/o[0]),E=Math.sqrt(C*C+M*M);"x"===r&&(E=-C),"y"===r&&(E=-M),g.push(E)}else g.push(Math.abs(a-m));y=Math.max.apply(Math,g)}i&&(g=g.map(function(t){return i(t/y)*y})),"reverse"===n&&(g=g.map(function(t){return r?t<0?-1*t:-t:Math.abs(y-t)}))}return _+(h?(d-p)/y:p)*(Math.round(100*g[e])/100)+f}},gt.timeline=function(t){void 0===t&&(t={});var e=gt(t);return e.duration=0,e.add=function(n,i){var r=dt.indexOf(e),a=e.children;function s(t){t.passThrough=!0}r>-1&&dt.splice(r,1);for(var c=0;c<a.length;c++)s(a[c]);var u=P(n,S(o,t));u.targets=u.targets||t.targets;var h=e.duration;u.autoplay=!1,u.direction=e.direction,u.timelineOffset=l.und(i)?h:U(i,h),s(e),e.seek(u.timelineOffset);var p=gt(u);s(p),a.push(p);var d=ut(a,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},gt.easing=m,gt.penner=g,gt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var yt=gt;n.default=yt,e.exports=n.default,cc._RF.pop()},{}],use_reversed_rotateTo:[function(t,e){"use strict";cc._RF.push(e,"9c5f85cvi5PI6J2xaihQM4Z","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["use_reversed_rotateTo","All@","GameController","FakeCommed","GPGAPI","ActionTransition","Log","MineCollect","MineMng","MineMngCon","MineMngNav","GetCoinAction","CollectGeneral","ParticleCoin","MineMessageAction","MinePartnerIconMouseEvent","MinePartnerMessage","MinePartnerSelect","MinePetIconMouseEvent","MinePetMessage","MinePetSelect","MineSelect","MineSelectItem","MineSlider","MineToolBox","ToolComponent","ConInfo","PropSelectPop","MainGame","MainLoading","UIBase","UIChooseSound","UIDecoPop","UIGameVersen","UIHelp","UIInfo","UILoadTip","UILoading","UIMessage","UIMusic","UISkinPop","UIUpgradePanel","Assets","CommandEnum","SceneEnum","GameCenter","IDataModel","CfgMine","CfgPartner","EventConst","ViewZorder","GameModel","System","WebAPI","DataCollectGeneral","DataGame","DataLoading","DataMineCollect","DataMineMng","DataMineMngCon","DataMinePetSelect","DataMineToolBox","DataUIMessage","DataUIMusic","CNY","NTD","anime.es","AssetsMng","ButtonMng","EventMng","LangMng","MusicMng","SceneMng","UIMng"]);